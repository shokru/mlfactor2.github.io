{"version":3,"kind":"Notebook","sha256":"b94ea8a3f14bf8216216bd998d63c425aeb1482984557f7ead56592a7d774b06","slug":"chap-03-asset-pricing","location":"/chap_03_asset_pricing.ipynb","dependencies":[],"frontmatter":{"title":"Factor investing and asset pricing anomalies","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Guillaume Coqueret","given":"Guillaume","family":"Coqueret"},"name":"Guillaume Coqueret","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Tony Guida","given":"Tony","family":"Guida"},"name":"Tony Guida","id":"contributors-myst-generated-uid-1"}],"github":"https://github.com/shokru/mlfactor2.github.io","copyright":"2027","exports":[{"format":"ipynb","filename":"chap_03_asset_pricing.ipynb","url":"/mlfactor2.github.io/build/chap_03_asset_pricin-02d1a82020c875d04bf08f9d7cfd9a95.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%run libraries_data.py","key":"A3X0K3MyjL"},{"type":"outputs","id":"R1nQ_Ak6NmGF3ZWenRm9R","children":[],"key":"dMu8KvJFm8"}],"key":"xdxh4uiFct"},{"type":"block","kind":"notebook-content","data":{"id":"024610a8"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Asset pricing anomalies are the foundations of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LcPGSgOb3V"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"factor investing","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jkrUSZSRbB"}],"key":"WgFb8Nii26"},{"type":"text","value":". In this chapter our aim is twofold:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u5JMRANfFd"}],"key":"qv7mLOp59D"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"present simple ideas and concepts: basic factor models and common empirical facts (time-varying nature of returns and risk premia);","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OTAtgBw05w"}],"key":"w7ehAmlETp"}],"key":"fReXf12ew2"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"provide the reader with lists of articles that go much deeper to stimulate and satisfy curiosity.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"tdVOzCzUMF"}],"key":"JOeA26n15M"}],"key":"T5M1hJxqwG"}],"key":"ryHkLvfQJ9"}],"identifier":"024610a8","label":"024610a8","html_id":"id-024610a8","key":"My2buAxvak"},{"type":"block","kind":"notebook-content","data":{"id":"986cae54"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The purpose of this chapter is not to provide a full treatment of the many topics related to factor investing. Rather, it is intended to give a broad overview and cover the essential themes so that the reader is guided towards the relevant references. As such, it can serve as a short, non-exhaustive, review of the literature. The subject of factor modelling in finance is incredibly vast and the number of papers dedicated to it is substantial and still rapidly increasing.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tVqOCwD8NF"}],"key":"t9GCL9eHj7"}],"identifier":"986cae54","label":"986cae54","html_id":"id-986cae54","key":"dzmwsF21w0"},{"type":"block","kind":"notebook-content","data":{"id":"5149b154"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The universe of peer-reviewed financial journals can be split in two. The first kind is the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qBECeTtQfm"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"academic journals","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"foHeq756iY"}],"key":"FtzwFuaVkg"},{"type":"text","value":". Their articles are mostly written by professors, and the audience consists mostly of scholars. The articles are long and often technical. Prominent examples are the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JtA6Pnbh4t"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Journal of Finance","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EPgleZPfY3"}],"key":"nCUP3zhRPo"},{"type":"text","value":", the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"W6ymfsnoLK"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Review of Financial Studies","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NttPv68Wli"}],"key":"ucVruJeWDZ"},{"type":"text","value":" and the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZpDy1B9IOJ"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Journal of Financial Economics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fZAvaiorTw"}],"key":"QQvVg0MomO"},{"type":"text","value":". The second type is more ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZCp6i1ziUP"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"practitioner","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"acFa3qnc7j"}],"key":"b45U02tq6n"},{"type":"text","value":"-orientated. The papers are shorter, easier to read, and target finance professionals predominantly. Two emblematic examples are the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z1ZKi7A3dM"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Journal of Portfolio Management","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LplqVyuJ9q"}],"key":"D0MNnfclBw"},{"type":"text","value":" and the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yGCWQYFuIj"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Financial Analysts Journal","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ODjgh6pYh9"}],"key":"XDDr8qGGDg"},{"type":"text","value":". This chapter reviews and mentions articles published essentially in the first family of journals.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CRBVDFkhDA"}],"key":"jKociIxWPo"}],"identifier":"5149b154","label":"5149b154","html_id":"id-5149b154","key":"wHYRF6D8oM"},{"type":"block","kind":"notebook-content","data":{"id":"5b2f29cc"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Beyond academic articles, several monographs are already dedicated to the topic of style allocation (a synonym of factor investing used for instance in theoretical articles ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l6HDbpB8Qz"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"barberis2003style","identifier":"barberis2003style","children":[{"type":"text","value":"Barberis & Shleifer, 2003","key":"OIIOLBPf2p"}],"enumerator":"1","key":"PKEHPmTe0V"}],"key":"gV0CQNJvUV"},{"type":"text","value":" or practitioner papers ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SeQ6lySbGW"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"asness2015investing","identifier":"asness2015investing","children":[{"type":"text","value":"Asness ","key":"CHhgWCzjBh"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"VYlreXHJYI"}],"key":"AGFjAGYBDm"},{"type":"text","value":", 2015","key":"EqhjTphTq2"}],"enumerator":"2","key":"TpHi86BL1M"}],"key":"zf4ekhvBBB"},{"type":"text","value":"). To cite but a few, we mention:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yrkuXm9qW4"}],"key":"DK4Z0EbccO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"ilmanen2011expected","identifier":"ilmanen2011expected","children":[{"type":"text","value":"Ilmanen, 2011","key":"hFY7jADSCu"}],"enumerator":"3","key":"vqqlC6nunp"}],"key":"y1RCMcXL3i"},{"type":"text","value":": an exhaustive excursion into risk premia, across many asset classes, with a large spectrum of descriptive statistics (across factors and periods),","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OMdSwn1fev"}],"key":"USWOxGS9rh"}],"key":"zbSUg4APgr"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"ang2014asset","identifier":"ang2014asset","children":[{"type":"text","value":"Ang, 2014","key":"ggBIOyVXYs"}],"enumerator":"4","key":"SdXiGzcbiB"}],"key":"GD1hv62xf0"},{"type":"text","value":": covers factor investing with a strong focus on the money management industry,","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"UAIRel6QJN"}],"key":"Hmzty2mCVY"}],"key":"eeD1UxpSSR"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"bali2016empirical","identifier":"bali2016empirical","children":[{"type":"text","value":"Bali ","key":"zJzdReFpqc"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"btBKRNNyrV"}],"key":"T0dL0DNR8i"},{"type":"text","value":", 2016","key":"vX0ejJX50X"}],"enumerator":"5","key":"iETBIdNbth"}],"key":"MaW3T2zS3R"},{"type":"text","value":": very complete book on the cross-section of signals with statistical analyses (univariate metrics, correlations, persistence, etc.),","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"SVjsXCuypb"}],"key":"FJ3DDqYGdr"}],"key":"i1Y2I1pFYc"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"jurczenko2017factor","identifier":"jurczenko2017factor","children":[{"type":"text","value":"Jurczenko, 2017","key":"Nnvxwl5oyc"}],"enumerator":"6","key":"ykpQIEweCR"}],"key":"q1HmxJJL0u"},{"type":"text","value":": a tour on various topics given by field experts (factor purity, predictability, selection versus weighting, factor timing, etc.).","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LmpFmgIvQX"}],"key":"K3RKSjLc62"}],"key":"EJjVXc9D5Y"}],"key":"Ry1XlDuXUb"}],"identifier":"5b2f29cc","label":"5b2f29cc","html_id":"id-5b2f29cc","key":"OSGjtrQDBD"},{"type":"block","kind":"notebook-content","data":{"id":"fede22a1"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finally, we mention a few wide-scope papers on this topic: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pAVB5GcYNB"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"goyal2012empirical","identifier":"goyal2012empirical","children":[{"type":"text","value":"Goyal, 2012","key":"KF8AuvSqaO"}],"enumerator":"7","key":"yZkooTaytN"}],"key":"IzQ29c0Nfy"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jrdqKKGPYH"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"cazalet2014facts","identifier":"cazalet2014facts","children":[{"type":"text","value":"Cazalet & Roncalli, 2014","key":"s68JKZJTqP"}],"enumerator":"8","key":"BMhsGBGd48"}],"key":"mp0eL4Ecy3"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FYbCdlxAFU"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"baz2015dissecting","identifier":"baz2015dissecting","children":[{"type":"text","value":"Baz ","key":"hiSOA2u2ak"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"tHSJ8wmZBh"}],"key":"UEUnY8ePl4"},{"type":"text","value":", 2015","key":"gzu2ShSR7k"}],"enumerator":"9","key":"jx3zXuAYE8"}],"key":"SU5F2gHOIJ"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l2mrakoSF7"}],"key":"UJXjzDr2OP"}],"identifier":"fede22a1","label":"fede22a1","html_id":"fede22a1","key":"uvMj1O0mq9"},{"type":"block","kind":"notebook-content","data":{"id":"4846e867"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T4fj05X7Ad"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"BZuwAIqNuu"}],"identifier":"4846e867","label":"4846e867","html_id":"id-4846e867","key":"nTOxJcwJ7g"},{"type":"block","kind":"notebook-content","data":{"id":"2af0bc9d"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The topic of factor investing, though a decades-old academic theme, has gained traction concurrently with the rise of equity traded funds (ETFs) as vectors of investment. Both have gathered momentum in the 2010 decade. Not so surprisingly, the feedback loop between practical financial engineering and academic research has stimulated both sides in a mutually beneficial manner. Practitioners rely on key scholarly findings (e.g., asset pricing anomalies) while researchers dig deeper into pragmatic topics (e.g., factor exposure or transaction costs). Recently, researchers have also tried to quantify and qualify the impact of factor indices on financial markets. For instance, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MzhPDlHQlz"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"krkoska2019herding","identifier":"krkoska2019herding","children":[{"type":"text","value":"Krkoska & Schenk-Hoppé, 2019","key":"IUVP3Yb1Ik"}],"enumerator":"10","key":"PyI9SnT75q"}],"key":"BiplFrSdrk"},{"type":"text","value":" analyze herding behaviors while ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pQ7RUYXbmL"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"cong2019rise","identifier":"cong2019rise","children":[{"type":"text","value":"Cong & Xu, 2019","key":"oxqrUDkCds"}],"enumerator":"11","key":"OsvZMoIgDs"}],"key":"D9C2xP2XeC"},{"type":"text","value":" show that the introduction of composite securities increases volatility and cross-asset correlations.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RuOBGjhemI"}],"key":"wQWgqYFTH9"}],"identifier":"2af0bc9d","label":"2af0bc9d","html_id":"id-2af0bc9d","key":"NV6wS576fz"},{"type":"block","kind":"notebook-content","data":{"id":"7a7df5d5"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The core aim of factor models is to understand the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YwqLE1y1gp"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"drivers of asset prices","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xoaxHkQI8O"}],"key":"mHVZtHHPHv"},{"type":"text","value":". Broadly speaking, the rationale behind factor investing is that the financial performance of firms depends on factors, whether they be latent and unobservable, or related to intrinsic characteristics (like accounting ratios for instance). Indeed, as ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ntkbXXH4AO"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"cochrane2011presidential","identifier":"cochrane2011presidential","children":[{"type":"text","value":"Cochrane, 2011","key":"FRzHATAeex"}],"enumerator":"12","key":"AUt27vHr7G"}],"key":"EGj23BPPLh"},{"type":"text","value":" frames it, the first essential question is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tfPreRNi3X"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"which characteristics really provide independent information about average returns?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DIRWCAlyLq"}],"key":"jZGrrlIZXk"},{"type":"text","value":" Answering this question helps understand the cross-section of returns and may open the door to their prediction.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zb0XeIiYX4"}],"key":"gDvx1CUIsG"}],"identifier":"7a7df5d5","label":"7a7df5d5","html_id":"id-7a7df5d5","key":"TU1lAgMD5m"},{"type":"block","kind":"notebook-content","data":{"id":"3b6899ed"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Theoretically, linear factor models can be viewed as special cases of the arbitrage pricing theory (APT) of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OXSKLHZeKV"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"ross1976arbitrage","identifier":"ross1976arbitrage","children":[{"type":"text","value":"Ross, 1976","key":"ZHnFiWSN0F"}],"enumerator":"13","key":"WeFKHkvU9J"}],"key":"xzYK4ux276"},{"type":"text","value":", which assumes that the return of an asset ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yJ1BNpoRso"},{"type":"inlineMath","value":"n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>","key":"UDcTLFgzQx"},{"type":"text","value":" can be modelled as a linear combination of underlying factors ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dXPcdLe7W2"},{"type":"inlineMath","value":"f_k","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>f</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">f_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"OLIzp8tLDC"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LCzAGTQ0wm"}],"key":"o2FtnANLkW"}],"identifier":"3b6899ed","label":"3b6899ed","html_id":"id-3b6899ed","key":"oIIiXYB7Na"},{"type":"block","kind":"notebook-content","data":{"id":"9e363e05"},"children":[{"type":"math","value":"\\tag{3.1}\nr_{t,n}= \\alpha_n+\\sum_{k=1}^K\\beta_{n,k}f_{t,k}+\\epsilon_{t,n},","enumerated":true,"position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable width=\"100%\"><mtr><mtd width=\"50%\"></mtd><mtd><mrow><msub><mi>r</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo>=</mo><msub><mi>α</mi><mi>n</mi></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></munderover><msub><mi>β</mi><mrow><mi>n</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub><msub><mi>f</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub><mo>+</mo><msub><mi>ϵ</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo separator=\"true\">,</mo></mrow></mtd><mtd width=\"50%\"></mtd><mtd><mtext>(3.1)</mtext></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\tag{3.1}\nr_{t,n}= \\alpha_n+\\sum_{k=1}^K\\beta_{n,k}f_{t,k}+\\epsilon_{t,n},</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.1304em;vertical-align:-1.3021em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8283em;\"><span style=\"top:-1.8479em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.3em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3021em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span></span><span class=\"tag\"><span class=\"strut\" style=\"height:3.1304em;vertical-align:-1.3021em;\"></span><span class=\"mord text\"><span class=\"mord\">(</span><span class=\"mord\"><span class=\"mord\">3.1</span></span><span class=\"mord\">)</span></span></span></span></span></span>","enumerator":"1","key":"QSBOue1EEE"}],"identifier":"9e363e05","label":"9e363e05","html_id":"id-9e363e05","key":"FeDRm5tFfb"},{"type":"block","kind":"notebook-content","data":{"id":"8a7c21fb"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"where the usual econometric constraints on linear models hold: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SPlzulIZHm"},{"type":"inlineMath","value":"\\mathbb{E}[\\epsilon_{t,n}]=0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">E</mi><mo stretchy=\"false\">[</mo><msub><mi>ϵ</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo stretchy=\"false\">]</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\mathbb{E}[\\epsilon_{t,n}]=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathbb\">E</span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>","key":"OPyJlMy7VE"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GJgCN6XKGu"},{"type":"inlineMath","value":"\\text{cov}(\\epsilon_{t,n},\\epsilon_{t,m})=0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>cov</mtext><mo stretchy=\"false\">(</mo><msub><mi>ϵ</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>ϵ</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>m</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\text{cov}(\\epsilon_{t,n},\\epsilon_{t,m})=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord text\"><span class=\"mord\">cov</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>","key":"qc5exaeLFB"},{"type":"text","value":" for ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mL7da4GdqK"},{"type":"inlineMath","value":"n\\neq m","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo mathvariant=\"normal\">≠</mo><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">n\\neq m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span>","key":"NSFBnU2Te4"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WfnCacnycy"},{"type":"inlineMath","value":"\\text{cov}(\\textbf{f}_n,\\boldsymbol{\\epsilon}_n)=0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>cov</mtext><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">f</mtext><mi>n</mi></msub><mo separator=\"true\">,</mo><msub><mi mathvariant=\"bold-italic\">ϵ</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\text{cov}(\\textbf{f}_n,\\boldsymbol{\\epsilon}_n)=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">cov</span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">f</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">ϵ</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>","key":"yc6VhTTlVy"},{"type":"text","value":". If such factors do exist, then they are in contradiction with the cornerstone model in asset pricing: the capital asset pricing model (CAPM) of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qGJKBpYoWW"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"sharpe1964capital","identifier":"sharpe1964capital","children":[{"type":"text","value":"Sharpe, 1964","key":"RK9aK3Nm3R"}],"enumerator":"14","key":"ThPZiLvtIt"}],"key":"VQzT81vpoL"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VFB7xAAUVJ"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"lintner1965valuation","identifier":"lintner1965valuation","children":[{"type":"text","value":"Lintner, 1965","key":"BTsYwONyQQ"}],"enumerator":"15","key":"TZAdQIIBGo"}],"key":"luJGiBU7au"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dQURsZ8K9m"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"mossin1966equilibrium","identifier":"mossin1966equilibrium","children":[{"type":"text","value":"Mossin, 1966","key":"qSPRd7GVb8"}],"enumerator":"16","key":"rZl6NoI8zm"}],"key":"gSHPefU6Ft"},{"type":"text","value":". Indeed, according to the CAPM, the only driver of returns is the market portfolio. This explains why factors are also called ‘anomalies’.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nfO38vzqzu"}],"key":"bO7cTsfsaX"}],"identifier":"8a7c21fb","label":"8a7c21fb","html_id":"id-8a7c21fb","key":"OIx242ggao"},{"type":"block","kind":"notebook-content","data":{"id":"c48fb16c"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Empirical evidence of asset pricing anomalies has accumulated since the dual publication of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q4fGZU1NvO"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"fama1992cross","identifier":"fama1992cross","children":[{"type":"text","value":"Fama & French, 1992","key":"gXOFjXcWVV"}],"enumerator":"17","key":"oQWnMnl1bp"}],"key":"lyrzCgPWpb"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tL45Q3yN9k"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"fama1993common","identifier":"fama1993common","children":[{"type":"text","value":"Fama & French, 1993","key":"xfky5emuzL"}],"enumerator":"18","key":"R8jOpuWaMY"}],"key":"sOHQhz6lA2"},{"type":"text","value":". This seminal work has paved the way for a blossoming stream of literature that has its meta-studies (e.g., ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wOoGSnlDyl"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"green2013supraview","identifier":"green2013supraview","children":[{"type":"text","value":"Green ","key":"nv5KgD1OGA"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"MW8iangxzA"}],"key":"bXt9eeosf0"},{"type":"text","value":", 2013","key":"emOdrK7OeT"}],"enumerator":"19","key":"Xm98C00onQ"}],"key":"smCl1Xju97"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JsnViUgE3F"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"harvey2016and","identifier":"harvey2016and","children":[{"type":"text","value":"Harvey ","key":"TCMBHminPJ"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"ZpG2PchYSZ"}],"key":"ZGVY3DDHGZ"},{"type":"text","value":", 2016","key":"uQuEs96tTA"}],"enumerator":"20","key":"y9wO9xldUA"}],"key":"rNY8ENrxdW"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EuKQIRYSoL"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"mclean2016does","identifier":"mclean2016does","children":[{"type":"text","value":"McLean & Pontiff, 2016","key":"w6NWDqvl0u"}],"enumerator":"21","key":"nux0PsW0Zr"}],"key":"GFuRBXM1An"},{"type":"text","value":"). The regression (3.1) can be evaluated once (unconditionally) or sequentially over different time frames. In the latter case, the parameters (coefficient estimates) change and the models are thus called conditional (we refer to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R461dGqtV1"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"ang2012testing","identifier":"ang2012testing","children":[{"type":"text","value":"Ang & Kristensen, 2012","key":"TjB0FtpPHd"}],"enumerator":"22","key":"S9aiIYld4F"}],"key":"UPYNOVH4q8"},{"type":"text","value":" and to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LDAzuvIdPq"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"cooper2018new","identifier":"cooper2018new","children":[{"type":"text","value":"Cooper & Maio, 2019","key":"wITu1Ya5Fj"}],"enumerator":"23","key":"qtjMqlMXHq"}],"key":"YF9vucQjfp"},{"type":"text","value":" for recent results on this topic as well as for a detailed review on the related research). Conditional models are more flexible because they acknowledge that the drivers of asset prices may not be constant, which seems like a reasonable postulate.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OrhxYeO0x3"}],"key":"F4a4fWJl28"}],"identifier":"c48fb16c","label":"c48fb16c","html_id":"c48fb16c","key":"zbG3192baw"},{"type":"block","kind":"notebook-content","data":{"id":"81bb81eb"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Detecting anomalies","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zwJDWWxaXt"}],"identifier":"detecting-anomalies","label":"Detecting anomalies","html_id":"detecting-anomalies","implicit":true,"key":"En42ARn4l8"}],"identifier":"81bb81eb","label":"81bb81eb","html_id":"id-81bb81eb","key":"m15O74VH74"},{"type":"block","kind":"notebook-content","data":{"id":"24703820"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Challenges","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w1Awafd1EP"}],"identifier":"challenges","label":"Challenges","html_id":"challenges","implicit":true,"key":"ixEYlIQj8y"}],"identifier":"24703820","label":"24703820","html_id":"id-24703820","key":"poRkNM5OA8"},{"type":"block","kind":"notebook-content","data":{"id":"27c1c73d"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obviously, a crucial step is to be able to identify an anomaly and the complexity of this task should not be underestimated. Given the publication bias towards positive results (see, e.g., ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gSZyDxZV1V"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"harvey2017presidential","identifier":"harvey2017presidential","children":[{"type":"text","value":"Harvey, 2017","key":"RZqsDeY1QN"}],"enumerator":"24","key":"jqZ6WkAho0"}],"key":"Lxu4NpB2DV"},{"type":"text","value":" in financial economics), researchers are often tempted to report partial results that are sometimes invalidated by further studies. The need for replication is therefore high and many findings have no tomorrow (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pt9sUmNUZH"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"linnainmaa2018history","identifier":"linnainmaa2018history","children":[{"type":"text","value":"Linnainmaa & Roberts, 2018","key":"qRGY4IVypJ"}],"enumerator":"25","key":"yd4u1MMxmz"}],"key":"aO6YqRceXE"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lsHXu26wpc"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"johannesson2020explanatory","identifier":"johannesson2020explanatory","children":[{"type":"text","value":"Johannesson ","key":"s88y7owm5v"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"A1yp5gVZer"}],"key":"Hl2Nj6jxZA"},{"type":"text","value":", 2020","key":"KPYnrQOWWE"}],"enumerator":"26","key":"F0eY0sOkiX"}],"key":"ThSEdBwkAr"},{"type":"text","value":"), especially if transaction costs are taken into account (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r6qrX1R8Tv"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"patton2020you","identifier":"patton2020you","children":[{"type":"text","value":"Patton & Weller, 2020","key":"EDtXhy7lbx"}],"enumerator":"27","key":"EVI6NUBEL5"}],"key":"L723HnZIDQ"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HUjmku73Dw"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"chen2020zeroing","identifier":"chen2020zeroing","children":[{"type":"text","value":"Chen & Velikov, 2023","key":"sO7JaEYJ7S"}],"enumerator":"28","key":"vYLnNndPL0"}],"key":"xFChucS2Gp"},{"type":"text","value":"). Nevertheless, as is demonstrated by ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BhbxXqICEU"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"chen2020limits","identifier":"chen2020limits","children":[{"type":"text","value":"Chen, 2020","key":"qbVPLRSm59"}],"enumerator":"29","key":"H08UHUk3Yx"}],"key":"DAib7trnRp"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KveW24yGJQ"},{"type":"inlineMath","value":"p","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>","key":"iwqOnh9fLN"},{"type":"text","value":"-hacking alone cannot account for all the anomalies documented in the literature. One way to reduce the risk of spurious detection is to increase the hurdles (often, the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LB6WHgu6Ex"},{"type":"inlineMath","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span>","key":"aCF62lbvuB"},{"type":"text","value":"-statistics) but the debate is still ongoing (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YZdXccK38p"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"harvey2016and","identifier":"harvey2016and","children":[{"type":"text","value":"Harvey ","key":"mlRuCXZKAa"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"zWFpUJFQhl"}],"key":"zpHt74Sxun"},{"type":"text","value":", 2016","key":"hMJwkwejNi"}],"enumerator":"20","key":"fty8Ri2k1m"}],"key":"grcziW6CUN"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"B9r93BdcN4"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"chen2020t","identifier":"chen2020t","children":[{"type":"text","value":"Chen, 2025","key":"C7z0QB8Lhb"}],"enumerator":"30","key":"TEoEQqlxGD"}],"key":"hB3P0hdcpS"},{"type":"text","value":"), or to resort to multiple testing (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T46FD8Oq18"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"harvey2019evaluation","identifier":"harvey2019evaluation","children":[{"type":"text","value":"Harvey ","key":"yOIoF8Skdj"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"tp3LFerkXc"}],"key":"oaXvpOH1FA"},{"type":"text","value":", 2020","key":"Ij08lxLLjA"}],"enumerator":"31","key":"cy6AAOwUzq"}],"key":"CRPZFkJuZi"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y1orj41rkT"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"vincent2020investment","identifier":"vincent2020investment","children":[{"type":"text","value":"Vincent ","key":"FgDbLIGV9i"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"QsVWE2OcXl"}],"key":"CDxIraVsj7"},{"type":"text","value":", 2020","key":"RMmY11C8lE"}],"enumerator":"32","key":"Ul3VEDpf9k"}],"key":"IeRmUP5U44"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WJSdA5k2WR"}],"key":"uGsa0vPbJW"}],"identifier":"27c1c73d","label":"27c1c73d","html_id":"id-27c1c73d","key":"g0ybLnKfaU"},{"type":"block","kind":"notebook-content","data":{"id":"4c563ffc"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Some researchers document fading anomalies because of publication: once the anomaly becomes public, agents invest in it, which pushes prices up and the anomaly disappears. ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xwDT5EJId4"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"mclean2016does","identifier":"mclean2016does","children":[{"type":"text","value":"McLean & Pontiff, 2016","key":"BAvYTmHsrx"}],"enumerator":"21","key":"MidYNSM0i0"}],"key":"saNt4HRSt2"},{"type":"text","value":" document this effect in the US but ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o5rIVqBad3"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"jacobs2019anomalies","identifier":"jacobs2019anomalies","children":[{"type":"text","value":"Jacobs & Müller, 2020","key":"Kq99speBlG"}],"enumerator":"33","key":"NafEv2KxQV"}],"key":"uktSQU0s0y"},{"type":"text","value":" find that all other countries experience sustained post-publication factor returns. With a different methodology, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q05A36WalD"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"chen2020publication","identifier":"chen2020publication","children":[{"type":"text","value":"Chen & Zimmermann, 2020","key":"qGirjaROra"}],"enumerator":"34","key":"dzhQ0tPAV9"}],"key":"umTw2OScLu"},{"type":"text","value":" introduce a publication bias adjustment for returns and the authors note that this (negative) adjustment is in fact rather small. ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ReOoMe3CM7"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"penasse2018understanding","identifier":"penasse2018understanding","children":[{"type":"text","value":"Penasse, 2022","key":"ppPWSdjUyJ"}],"enumerator":"35","key":"FWqQgMFlrJ"}],"key":"qQRMD7nkFM"},{"type":"text","value":" recommends the notion of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ra1hkuVk4T"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"alpha decay","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kjG88iUAx7"}],"key":"g4UnCJ8Wh8"},{"type":"text","value":" to study the persistence or attenuation of anomalies.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kFshdAFAAQ"}],"key":"f07DcoKPop"}],"identifier":"4c563ffc","label":"4c563ffc","html_id":"id-4c563ffc","key":"QNnszRIYG1"},{"type":"block","kind":"notebook-content","data":{"id":"c9705b1e"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The destruction of factor premia may be due to herding (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IYrdHMryfN"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"krkoska2019herding","identifier":"krkoska2019herding","children":[{"type":"text","value":"Krkoska & Schenk-Hoppé, 2019","key":"uLtMLuMTPx"}],"enumerator":"10","key":"LraZdnhkIF"}],"key":"b6GMaSEo4W"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PBNRAdTeKa"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"volpati2020zooming","identifier":"volpati2020zooming","children":[{"type":"text","value":"Volpati ","key":"V8QfZxmJmi"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"GVAmuyNEy5"}],"key":"kvhXmqDXcI"},{"type":"text","value":", 2020","key":"EpcPuKVrib"}],"enumerator":"36","key":"bzccAGSXND"}],"key":"yEGx7SEA2L"},{"type":"text","value":") and could be accelerated by the democratization of so-called smart-beta products (ETFs notably) that allow investors to directly invest in particular styles (value, low volatility, etc.). For a theoretical perspective on the attractivity of factor investing, we refer to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E4A5hM3EXL"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"jin2019drivers","identifier":"jin2019drivers","children":[{"type":"text","value":"Jin, 2019","key":"WsdI5OUnoX"}],"enumerator":"37","key":"Z3vxrq5iXB"}],"key":"ibuEDhqEix"},{"type":"text","value":". On the other hand, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c54NbwePaX"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"demiguel2019crowding","identifier":"demiguel2019crowding","children":[{"type":"text","value":"DeMiguel ","key":"NBVG5c6qT0"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"FKmNB6MLYY"}],"key":"Xr7GLR6VMA"},{"type":"text","value":", 2025","key":"YUKUGrsqS5"}],"enumerator":"38","key":"bgWcIW9Ylp"}],"key":"iKKszECzX1"},{"type":"text","value":" argue that the price impact of crowding in the smart-beta universe is mitigated by trading diversification stemming from external institutions that trade according to strategies outside this space (e.g., high frequency traders betting via order-book algorithms).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nJ2FMaUVHK"}],"key":"kBTaKmhmzK"}],"identifier":"c9705b1e","label":"c9705b1e","html_id":"c9705b1e","key":"hp9S9I8MTr"},{"type":"block","kind":"notebook-content","data":{"id":"e9c323fb"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The remainder of this subsection was inspired from ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oyhB0EBoho"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"baker2017detecting","identifier":"baker2017detecting","children":[{"type":"text","value":"Baker ","key":"Gq9JvCXiTX"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"Re6JDuqZ8n"}],"key":"CFq79pKXRM"},{"type":"text","value":", 2017","key":"k6OFaTWywJ"}],"enumerator":"39","key":"trStVARXXc"}],"key":"PomECQ08uk"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LQqJ0TPrXj"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"harvey2017lucky","identifier":"harvey2017lucky","children":[{"type":"text","value":"Harvey & Liu, 2019","key":"sCr8LITQly"}],"enumerator":"40","key":"libq8rdqLS"}],"key":"u9GlLdflgI"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mXhMYbeU7c"}],"key":"jE3dwqsntF"}],"identifier":"e9c323fb","label":"e9c323fb","html_id":"e9c323fb","key":"xB4XT39mbL"},{"type":"block","kind":"notebook-content","data":{"id":"c2f3aa87"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Simple portfolio sorts","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cqcFuxhov5"}],"identifier":"simple-portfolio-sorts","label":"Simple portfolio sorts","html_id":"simple-portfolio-sorts","implicit":true,"key":"m1x3oQcFqa"}],"identifier":"c2f3aa87","label":"c2f3aa87","html_id":"c2f3aa87","key":"PDtZpIxX1S"},{"type":"block","kind":"notebook-content","data":{"id":"457a1162"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This is the most common procedure and the one used in ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RCw3O5Kvhh"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"fama1992cross","identifier":"fama1992cross","children":[{"type":"text","value":"Fama & French, 1992","key":"ilvwFxIKQS"}],"enumerator":"17","key":"qgeXXBAPx7"}],"key":"C9VVDlcitB"},{"type":"text","value":". The idea is simple. On one date,","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HHDQri52go"}],"key":"saHNezDv20"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"rank firms according to a particular criterion (e.g., size, book-to-market ratio);","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"X60g7aOLGm"}],"key":"sNTCEJQ9qK"}],"key":"BIfj0PoXHp"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"form ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"jB9iJPYUkh"},{"type":"inlineMath","value":"J\\ge 2","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi><mo>≥</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">J\\ge 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.136em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≥</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span>","key":"XPQuCTRPx0"},{"type":"text","value":" portfolios (i.e., homogeneous groups) consisting of the same number of stocks according to the ranking (usually, ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"FapkN7T7rK"},{"type":"inlineMath","value":"J=2","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">J=2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span>","key":"CBOgfCBe9x"},{"type":"text","value":", ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Mel9DPnW0j"},{"type":"inlineMath","value":"J=3","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">J=3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span>","key":"sj4GhX7G9L"},{"type":"text","value":", ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"stWrXNaTHV"},{"type":"inlineMath","value":"J=5","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">J=5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">5</span></span></span></span>","key":"QdqrV74jtA"},{"type":"text","value":" or ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"AHR6P8BHoK"},{"type":"inlineMath","value":"J=10","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding=\"application/x-tex\">J=10</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">10</span></span></span></span>","key":"imPeM6DPAg"},{"type":"text","value":" portfolios are built, based on the median, terciles, quintiles or deciles of the criterion);","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"tQTMBe89kf"}],"key":"KrPYW1rMH6"}],"key":"IRgGqxO7OA"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"the weight of stocks inside the portfolio is either uniform (equal weights), or proportional to market capitalization;","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"iZdJ9TWYKs"}],"key":"jLhw0CWgwC"}],"key":"xPuHipBaWZ"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"at a future date (usually one month), report the returns of the portfolios. Then, iterate the procedure until the chronological end of the sample is reached.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"GYz61ob393"}],"key":"loRrRAAbmf"}],"key":"D30Po5jeRJ"}],"key":"HqVItEe6XK"}],"identifier":"457a1162","label":"457a1162","html_id":"id-457a1162","key":"uv6CQM94C9"},{"type":"block","kind":"notebook-content","data":{"id":"4ee0937a"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The outcome is a time series of portfolio returns ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cm4s8iY77R"},{"type":"inlineMath","value":"r_t^j","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>r</mi><mi>t</mi><mi>j</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">r_t^j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1883em;vertical-align:-0.2458em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9426em;\"><span style=\"top:-2.4542em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span><span style=\"top:-3.1809em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2458em;\"><span></span></span></span></span></span></span></span></span></span>","key":"MHBtSNrSrm"},{"type":"text","value":" for each grouping ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EKW2zuDrNW"},{"type":"inlineMath","value":"j","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span>","key":"xqkTrIWzSV"},{"type":"text","value":". An anomaly is identified if the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rI4bijkS0u"},{"type":"inlineMath","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span>","key":"TjnPSQFXVj"},{"type":"text","value":"-test between the first (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dcPSIlkbMo"},{"type":"inlineMath","value":"j=1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">j=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>","key":"jK6mA7o7e6"},{"type":"text","value":") and the last group (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yPssXhxVCJ"},{"type":"inlineMath","value":"j=J","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi><mo>=</mo><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">j=J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>","key":"eMmY6Zgb3n"},{"type":"text","value":") unveils a significant difference in average returns. More robust tests are described in ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kVkzy3OIeP"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"cattaneo2019characteristic","identifier":"cattaneo2019characteristic","children":[{"type":"text","value":"Cattaneo ","key":"t9X0l992ju"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"Xyn9PNrUNX"}],"key":"RST4ZWDNWX"},{"type":"text","value":", 2020","key":"r5UwNVL1Lb"}],"enumerator":"41","key":"vxMAFPlgr6"}],"key":"YvfwzoXm1S"},{"type":"text","value":". A strong limitation of this approach is that the sorting criterion could have a non-monotonic impact on returns and a test based on the two extreme portfolios would not detect it. Several articles address this concern: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lZeMAfWbiC"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"patton2010monotonicity","identifier":"patton2010monotonicity","children":[{"type":"text","value":"Patton & Timmermann, 2010","key":"Gi9uXTh74x"}],"enumerator":"42","key":"WwDfqwoOWD"}],"key":"qf5TDCd7BK"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H3WXUozSAV"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"romano2013testing","identifier":"romano2013testing","children":[{"type":"text","value":"Romano & Wolf, 2013","key":"fXHBGcgUcE"}],"enumerator":"43","key":"JdLTKDvVLh"}],"key":"jvVWwoB7NZ"},{"type":"text","value":" for instance. Another concern is that these sorted portfolios may capture not only the priced risk associated with the characteristic but also some unpriced risk. ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YPh7i17g3L"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"daniel2020cross","identifier":"daniel2020cross","children":[{"type":"text","value":"Daniel ","key":"qqBnyLPIEQ"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"JMZORBZ944"}],"key":"ZHCxK7RqgM"},{"type":"text","value":", 2020","key":"uie2hbxKQe"}],"enumerator":"44","key":"Xeix9sMEEQ"}],"key":"aLeiBlA31D"},{"type":"text","value":" show that it is possible to disentangle the two and make the most of altered sorted portfolios.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iVe8c0Hk71"}],"key":"D5WyGTdNp1"}],"identifier":"4ee0937a","label":"4ee0937a","html_id":"id-4ee0937a","key":"mO3Hb5nOm1"},{"type":"block","kind":"notebook-content","data":{"id":"516730b4"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Instead of focusing on only one criterion, it is possible to group assets according to more characteristics. The original paper ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uhEtNMA73N"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"fama1992cross","identifier":"fama1992cross","children":[{"type":"text","value":"Fama & French, 1992","key":"W81eYC0Viv"}],"enumerator":"17","key":"zY7UkAmfFh"}],"key":"Kz6kWHERWG"},{"type":"text","value":" also combines market capitalization with book-to-market ratios. Each characteristic is divided into 10 buckets, which makes 100 portfolios in total. Beyond data availability, there is no upper bound on the number of features that can be included in the sorting process. In fact, some authors investigate more complex sorting algorithms that can manage a potentially large number of characteristics (see e.g., ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KcRp09oWxC"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"feng2019taming","identifier":"feng2019taming","children":[{"type":"text","value":"Feng ","key":"bzAfZoUw6M"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"EIf88Idv9s"}],"key":"ScAeWCyMRw"},{"type":"text","value":", 2020","key":"F4pWKYjRlw"}],"enumerator":"45","key":"kjvvZK4TpR"}],"key":"Ngm4mUFL6Q"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Lt10gS8810"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"bryzgalova2019bayesian","identifier":"bryzgalova2019bayesian","children":[{"type":"text","value":"Bryzgalova ","key":"fCIwGDSyA5"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"urt8YQEZwg"}],"key":"JT0WUp4lRt"},{"type":"text","value":", 2023","key":"KUv2029n4g"}],"enumerator":"46","key":"ojaRvdBXT6"}],"key":"t9CxuO0K1Y"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hZTJqSUjFl"}],"key":"u587uRY4tI"}],"identifier":"516730b4","label":"516730b4","html_id":"id-516730b4","key":"c7P7TxYHPo"},{"type":"block","kind":"notebook-content","data":{"id":"08a05987"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finally, we refer to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lF2vzviSg3"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"ledoit2018efficient","identifier":"ledoit2018efficient","children":[{"type":"text","value":"Ledoit ","key":"LZHmusPzl4"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"aeNAQP22UR"}],"key":"GQoALLtfBW"},{"type":"text","value":", 2020","key":"cPIxSSy1YK"}],"enumerator":"47","key":"ceBM9lSYv0"}],"key":"twJpC5oVU5"},{"type":"text","value":" for refinements that take into account the covariance structure of asset returns and to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"V0CaXR1Q7M"},{"type":"citeGroup","kind":"parenthetical","children":[{"type":"cite","kind":"parenthetical","label":"cattaneo2019characteristic","identifier":"cattaneo2019characteristic","children":[{"type":"text","value":"Cattaneo ","key":"wwe9KmtPeC"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"TlfPpK3cY7"}],"key":"Br7ioGrS3X"},{"type":"text","value":", 2020","key":"dKNZ87uZRy"}],"enumerator":"41","key":"G7OIyeMOcW"}],"key":"ztkMmiLVm4"},{"type":"text","value":" for a theoretical study on the statistical properties of the sorting procedure (including theoretical links with regression-based approaches). Notably, the latter paper discusses the optimal number of portfolios and suggests that it is probably larger than the usual 10 often used in the literature.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Exbg3myw03"}],"key":"uh8URH8z1C"}],"identifier":"08a05987","label":"08a05987","html_id":"id-08a05987","key":"uxrnaVTFZ4"},{"type":"block","kind":"notebook-content","data":{"id":"59447f25"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the code and Figure 3.1 below, we compute size portfolios (equally weighted: above versus below the median capitalization). According to the size anomaly, the firms with below median market cap should earn higher returns on average. This is verified whenever the orange bar in the plot is above the blue one (it happens most of the time).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Awvdr5vOTN"}],"key":"w4B9v6OARD"}],"identifier":"59447f25","label":"59447f25","html_id":"id-59447f25","key":"iF2RkuZPrn"},{"type":"block","kind":"notebook-code","data":{"id":"68ca6cc2"},"children":[{"type":"code","lang":"python","executable":true,"value":"df_median=[] # creating empty placeholder for temporary dataframe\ndf=[]\ndf_median=data_ml[['date','Size12m']].groupby(\n    ['date']).median().reset_index() # computing median\ndf_median.rename(\n    columns = {'Size12m': 'cap_median'}, inplace = True)\n# renaming for clarity\ndf = pd.merge(\n    data_ml[[\"date\",'Size12m','R1M']],\n    df_median,how='left', on=['date'])\ndf=df.groupby(\n    [pd.to_datetime(df['date']).dt.year,np.where(\n        df['Size12m'] > df['cap_median'],\n        'large', 'small')])['R1M'].mean().reset_index()\n# groupby and defining \"year\" and cap logic\ndf.rename(columns = {'level_1': 'cap_sort'}, inplace = True)\ndf.pivot(index='date',columns='cap_sort',\n         values='R1M').plot.bar(figsize=(10,6))\nplt.ylabel('Average returns')\nplt.xlabel('year')\ndf_median=[] #removing the temp dataframe to keep it light!\ndf=[]        #removing the temp dataframe to keep it light!","identifier":"68ca6cc2-code","enumerator":"1","html_id":"id-68ca6cc2-code","key":"yXp749aYrb"},{"type":"outputs","id":"5n8ZPy3XLVx-ajvUUyn36","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6110c9ef7b546738085d51f3b6043f37","path":"/mlfactor2.github.io/build/6110c9ef7b546738085d51f3b6043f37.png"},"text/plain":{"content":"<Figure size 1000x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"identifier":"68ca6cc2-outputs-0","html_id":"id-68ca6cc2-outputs-0","key":"qBF0NLc9ds"}],"identifier":"68ca6cc2-outputs","html_id":"id-68ca6cc2-outputs","key":"XU2zbNvyit"}],"identifier":"68ca6cc2","label":"68ca6cc2","html_id":"id-68ca6cc2","key":"RS41ia6dqF"},{"type":"block","kind":"notebook-content","data":{"id":"0ef24c21"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"FIGURE 3.1: The size factor: average returns of smaller versus larger firms.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bp247vcMRN"}],"key":"zYqSwdmjoM"}],"identifier":"0ef24c21","label":"0ef24c21","html_id":"id-0ef24c21","key":"bc54JE7wYt"},{"type":"block","kind":"notebook-content","data":{"id":"f97aafaf"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Factors","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"irWHyAVrIH"}],"identifier":"factors","label":"Factors","html_id":"factors","implicit":true,"key":"sNAhQxd6cs"}],"identifier":"f97aafaf","label":"f97aafaf","html_id":"f97aafaf","key":"QdxhFSHSJp"},{"type":"block","kind":"notebook-content","data":{"id":"d10e4c04"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The construction of so-called factors follows the same lines as above. Portfolios are based on one characteristic and the factor is a long-short ensemble of one extreme portfolio minus the opposite extreme (small minus large for the size factor or high book-to-market ratio minus low book-to-market ratio for the value factor). Sometimes, subtleties include forming bivariate sorts and aggregating several portfolios together, as in the original contribution of Fama and French (1993). The most common factors are listed below, along with a few references. We refer to the books listed at the beginning of the chapter for a more exhaustive treatment of factor idiosyncrasies. For most anomalies, theoretical justifications have been brought forward, whether risk-based or behavioral. We list the most frequently cited factors below:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PDNwq30QGs"}],"key":"Q6K5V63Pi3"}],"identifier":"d10e4c04","label":"d10e4c04","html_id":"d10e4c04","key":"kaMmZRCW3o"},{"type":"block","kind":"notebook-content","data":{"id":"c1124511"},"children":[{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Size (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"td9FGYqVzc"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"SMB","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rbWcqX5Pl3"}],"key":"dRK4vuzd8r"},{"type":"text","value":" = small firms minus large firms): Banz (1981), Fama and French (1992), Fama and French (1993), Van Dijk (2011), Asness et al. (2018) and Astakhov, Havranek, and Novak (2019).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FcwjIUkJo7"}],"key":"DVYROZ3y6i"}],"key":"S97CI2UOEr"},{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Value (","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"vQEGKrINXc"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"HML","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"HotiTp0kAG"}],"key":"eSVM0pAqba"},{"type":"text","value":" = high minus low: undervalued minus `growth’ firms): Fama and French (1992WML = winners minus losers): Jegadeesh and Titman (1993), Carhart (1997) and C), Fama and French (1993), C. S. Asness, Moskowitz, and Pedersen (2013).","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"svmFZwnen4"}],"key":"ct7JCQChAj"}],"key":"JD5uEEEa0y"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Momentum (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"o6YsP814Bd"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"WML","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jsYSB2RIUP"}],"key":"x1HcaQtUDY"},{"type":"text","value":" = winners minus losers): Jegadeesh and Titman (1993), Carhart (1997) and C. S. Asness, Moskowitz, and Pedersen (2013). The winners are the assets that have experienced the highest returns over the last year (sometimes the computation of the return is truncated to omit the last month). Cross-sectional momentum is linked, but not equivalent, to time series momentum (trend following), see e.g., Moskowitz, Ooi, and Pedersen (2012) and Lempérière et al. (2014). Momentum is also related to contrarian movements that occur both at higher and lower frequencies (short-term and long-term reversals), see Luo, Subrahmanyam, and Titman (2020).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DI7tJbnHyG"}],"key":"TmWyv2f8dp"}],"key":"SgcU6Mz2iG"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Profitability (","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ymQmcsSOPk"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"RMW","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"PnEmmU35NX"}],"key":"l3VcHBXLuB"},{"type":"text","value":" = robust minus weak profits): Fama and French (2015), Bouchaud et al. (2019). In the former reference, profitability is measured as (revenues - (cost and expenses))/equity.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Hp3mK7hSwn"}],"key":"Mor5x4TukA"}],"key":"YH9SMpwFGW"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Investment (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DKMMoHe3lA"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"CMA","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"e6ylsjcYOY"}],"key":"mx7nZfBWzS"},{"type":"text","value":" = conservative minus aggressive): Fama and French (2015), Hou, Xue, and Zhang (2015). Investment is measured via the growth of total assets (divided by total assets). Aggressive firms are those that experience the largest growth in assets.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zNddCZI9kZ"}],"key":"XlzPsz1mA3"}],"key":"e7Lx1VlMBN"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Low `risk’ (sometimes, ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"MoyyEzDe25"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"BAB","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"AfhR1b0nCw"}],"key":"EPYkHJcf0K"},{"type":"text","value":" = betting against beta): Ang et al. (2006), Baker, Bradley, and Wurgler (2011), Frazzini and Pedersen (2014), Boloorforoosh et al. (2020), Baker, Hoeyer, and Wurgler (2020) and Asness et al. (2020). In this case, the computation of risk changes from one article to the other (simple volatility, market beta, idiosyncratic volatility, etc.).","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"d5QUFdvzbm"}],"key":"lj5T52jdUe"}],"key":"Wz617ue6g2"}],"key":"rmW5X0fqgo"}],"identifier":"c1124511","label":"c1124511","html_id":"c1124511","key":"tJ5QtGiUeS"},{"type":"block","kind":"notebook-content","data":{"id":"9a775f40"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"With the notable exception of the low risk premium, the most mainstream anomalies are kept and updated in the data library of Kenneth French (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xoSaPHvGLc"},{"type":"link","url":"https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​mba​.tuck​.dartmouth​.edu​/pages​/faculty​/ken​.french​/data​_library​.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EkME3CkmZu"}],"urlSource":"https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html","key":"wqMLb5In7v"},{"type":"text","value":"). Of course, the computation of the factors follows a particular set of rules, but they are generally accepted in the academic sphere. Another source of data is the AQR repository: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YXVWant31t"},{"type":"link","url":"https://www.aqr.com/Insights/Datasets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​www​.aqr​.com​/Insights​/Datasets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zqBzLwXK8U"}],"urlSource":"https://www.aqr.com/Insights/Datasets","key":"ArvpsY0XK3"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"suagb7HNLg"}],"key":"HP692hzrDg"}],"identifier":"9a775f40","label":"9a775f40","html_id":"id-9a775f40","key":"W3ob3N6kI3"},{"type":"block","kind":"notebook-content","data":{"id":"7238fd10"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the dataset we use for the book, we proxy the value anomaly not with the book-to-market ratio but with the price-to-book ratio (the book value is located in the denominator). As is shown in Clifford Asness and Frazzini (2013), the choice of the variable for value can have sizable effects.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LiroUI85Xq"}],"key":"fJ6vSffWG7"}],"identifier":"7238fd10","label":"7238fd10","html_id":"id-7238fd10","key":"O0VYKNfr8H"},{"type":"block","kind":"notebook-content","data":{"id":"3e5fbdc6"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Below, we import data from Ken French’s data library. We will use it later on in the chapter.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ka9QEJNqoE"}],"key":"YzhBOdFaqL"}],"identifier":"3e5fbdc6","label":"3e5fbdc6","html_id":"id-3e5fbdc6","key":"uxqix4PcZ9"},{"type":"block","kind":"notebook-code","data":{"id":"d97f6eee","outputId":"33f2bb18-e587-472b-d270-f36757e99f22"},"children":[{"type":"code","lang":"python","executable":true,"value":"min_date = 196307\nmax_date = 202403\nff_url = \"https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/ftp\"\nff_url += \"/F-F_Research_Data_5_Factors_2x3_CSV.zip\"\n# Create the download url\ndf_ff = pd.read_csv(ff_url, sep=',', skiprows=3, quotechar='\"')\ndf_ff.rename(columns = {'Unnamed: 0':'date'},\n             inplace = True) # renaming for clarity\ndf_ff.rename(columns = {'Mkt-RF':'MKT_RF'},\n             inplace = True) # renaming for clarity\ndf_ff = df_ff.iloc[0:743, :]             \ndf_ff[['date','MKT_RF','SMB','HML','RMW','CMA','RF']] = df_ff[['date','MKT_RF','SMB','HML','RMW','CMA','RF']].apply(pd.to_numeric)\ndf_ff[['MKT_RF','SMB','HML','RMW','CMA','RF']]=df_ff[\n    ['MKT_RF','SMB','HML','RMW','CMA','RF']].values/100.0 # Scale returns\nidx_ff=df_ff.index[(df_ff['date']>=min_date)&(\n    df_ff['date']<=max_date)].tolist()\nFF_factors=df_ff.iloc[idx_ff].copy()\nFF_factors.loc[:,'year']=FF_factors.date.astype(str).str[:4]\nFF_factors.iloc[1:6,0:7].head()","identifier":"d97f6eee-code","enumerator":"2","html_id":"d97f6eee-code","key":"iKqZMOAALh"},{"type":"outputs","id":"tPb6Lghp2t7o7i6h0-MEA","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":null,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>date</th>\n      <th>MKT_RF</th>\n      <th>SMB</th>\n      <th>HML</th>\n      <th>RMW</th>\n      <th>CMA</th>\n      <th>RF</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1</th>\n      <td>196308</td>\n      <td>0.0508</td>\n      <td>-0.0080</td>\n      <td>0.0170</td>\n      <td>0.0040</td>\n      <td>-0.0038</td>\n      <td>0.0025</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>196309</td>\n      <td>-0.0157</td>\n      <td>-0.0043</td>\n      <td>0.0000</td>\n      <td>-0.0078</td>\n      <td>0.0015</td>\n      <td>0.0027</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>196310</td>\n      <td>0.0254</td>\n      <td>-0.0134</td>\n      <td>-0.0004</td>\n      <td>0.0279</td>\n      <td>-0.0225</td>\n      <td>0.0029</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>196311</td>\n      <td>-0.0086</td>\n      <td>-0.0085</td>\n      <td>0.0173</td>\n      <td>-0.0043</td>\n      <td>0.0227</td>\n      <td>0.0027</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>196312</td>\n      <td>0.0183</td>\n      <td>-0.0189</td>\n      <td>-0.0021</td>\n      <td>0.0012</td>\n      <td>-0.0025</td>\n      <td>0.0029</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"     date  MKT_RF     SMB     HML     RMW     CMA      RF\n1  196308  0.0508 -0.0080  0.0170  0.0040 -0.0038  0.0025\n2  196309 -0.0157 -0.0043  0.0000 -0.0078  0.0015  0.0027\n3  196310  0.0254 -0.0134 -0.0004  0.0279 -0.0225  0.0029\n4  196311 -0.0086 -0.0085  0.0173 -0.0043  0.0227  0.0027\n5  196312  0.0183 -0.0189 -0.0021  0.0012 -0.0025  0.0029","content_type":"text/plain"}}},"children":[],"identifier":"d97f6eee-outputs-0","html_id":"d97f6eee-outputs-0","key":"DlNvZHHJ7h"}],"identifier":"d97f6eee-outputs","html_id":"d97f6eee-outputs","key":"vbNQTQhScC"}],"identifier":"d97f6eee","label":"d97f6eee","html_id":"d97f6eee","key":"H2lEqg3k5r"},{"type":"block","kind":"notebook-content","data":{"id":"31aaf960"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"TABLE 3.1: Sample of monthly factor returns.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tlCANhgRrt"}],"key":"dLwi7KB8f9"}],"identifier":"31aaf960","label":"31aaf960","html_id":"id-31aaf960","key":"bO5pW7UtOJ"},{"type":"block","kind":"notebook-content","data":{"id":"ac49be52"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Posterior to the discovery of these stylized facts, some contributions have aimed at building theoretical models that capture these properties. We cite a handful below:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fyyI4tbs46"}],"key":"LjvLnHbru3"}],"identifier":"ac49be52","label":"ac49be52","html_id":"ac49be52","key":"wEQiAAzVIZ"},{"type":"block","kind":"notebook-content","data":{"id":"8a2f1fa5"},"children":[{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"size","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x9QvQaPFlz"}],"key":"AE4HGzRol3"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oXk0C6Njpt"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"value","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x2KJEEEeDp"}],"key":"W6WGxpcsr7"},{"type":"text","value":": Berk, Green, and Naik (1999), K. D. Daniel, Hirshleifer, and Subrahmanyam (2001), Barberis and Shleifer (2003), Gomes, Kogan, and Zhang (2003), Carlson, Fisher, and Giammarino (2004), Arnott et al. (2014);","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zIgX8hLMJ4"}],"key":"xDQi0JaF69"}],"key":"YQxR9wqd31"},{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"momentum","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zRyDoyvGZL"}],"key":"G4xrYfwG5O"},{"type":"text","value":": Johnson (2002), Grinblatt and Han (2005), Vayanos and Woolley (2013), Choi and Kim (2014).","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"mOpyccPswi"}],"key":"sJUiBDmhJf"}],"key":"yQHT3ssmsA"}],"key":"Rwt87LzVXY"}],"identifier":"8a2f1fa5","label":"8a2f1fa5","html_id":"id-8a2f1fa5","key":"ydkrDENC8g"},{"type":"block","kind":"notebook-content","data":{"id":"bed496a3"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In addition, recent bridges have been built between risk-based factor representations and behavioural theories. We refer essentially to Barberis, Mukherjee, and Wang (2016) and K. Daniel, Hirshleifer, and Sun (2020) and the references therein.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uZ0N8cZtG6"}],"key":"LcQOH8beDE"}],"identifier":"bed496a3","label":"bed496a3","html_id":"bed496a3","key":"YG0syeQPAF"},{"type":"block","kind":"notebook-content","data":{"id":"da623b2a"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"While these factors (i.e., long-short portfolios) exhibit time-varying risk premia and are magnified by corporate news and announcements (Engelberg, McLean, and Pontiff (2018)), it is well-documented (and accepted) that they deliver positive returns over long horizons. We refer to Gagliardini, Ossola, and Scaillet (2016) and to the survey Gagliardini, Ossola, and Scaillet (2019), as well as to the related bibliography for technical details on estimation procedures of risk premia and the corresponding empirical results. A large sample study that documents regime changes in factor premia was also carried out by Ilmanen et al. (2019). Moreover, the predictability of returns is also time-varying (as documented in Farmer, Schmidt, and Timmermann (2019), Tsiakas, Li, and Zhang (2020) and Liu, Pan, and Wang (2020)), and estimation methods can be improved (Johnson (2019)).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YSMfdGRP9Z"}],"key":"unz35gRRWZ"}],"identifier":"da623b2a","label":"da623b2a","html_id":"da623b2a","key":"bVSMkTX8Qy"},{"type":"block","kind":"notebook-content","data":{"id":"add4981d"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In Figure 3.2, we plot the average monthly return aggregated over each calendar year for five common factors. The risk free rate (which is not a factor per se) is the most stable, while the market factor (aggregate market returns minus the risk-free rate) is the most volatile. This makes sense because it is the only long equity factor among the five series.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ueg6xKxToZ"}],"key":"VYIbyriRpX"}],"identifier":"add4981d","label":"add4981d","html_id":"add4981d","key":"wDr9gOj3xf"},{"type":"block","kind":"notebook-code","data":{"id":"65812da0"},"children":[{"type":"code","lang":"python","executable":true,"value":"# groupby and defining \"year\" and cap logic\nFF_factors.iloc[:,1:7].groupby(FF_factors['year']).mean().plot()\n# Group by year and factor, compute average return\nplt.ylabel('value') # Set axis name and plot!\nplt.xlabel('date')","identifier":"65812da0-code","enumerator":"3","html_id":"id-65812da0-code","key":"WIMr274EDN"},{"type":"outputs","id":"PpsjqWwTjAPINBrfK_E67","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8a2a030c7d5309e8d788934596f36207","path":"/mlfactor2.github.io/build/8a2a030c7d5309e8d788934596f36207.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}},"children":[],"identifier":"65812da0-outputs-1","html_id":"id-65812da0-outputs-1","key":"Nnex1SJVBD"}],"identifier":"65812da0-outputs","html_id":"id-65812da0-outputs","key":"bbEF6qFnfC"}],"identifier":"65812da0","label":"65812da0","html_id":"id-65812da0","key":"ZVuckqZWPk"},{"type":"block","kind":"notebook-content","data":{"id":"9937b5b3"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"FIGURE 3.2: Average returns of common anomalies (1963-2020). Source: Ken French library.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IruMucJr93"}],"key":"WUnhUZSmJy"}],"identifier":"9937b5b3","label":"9937b5b3","html_id":"id-9937b5b3","key":"eMRfFAy0XD"},{"type":"block","kind":"notebook-content","data":{"id":"b57e6a46"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The individual attributes of investors who allocate towards particular factors is a blossoming topic. We list a few references below, even though they somewhat lie out of the scope of this book. Betermier, Calvet, and Sodini (2017) show that value investors are older, wealthier and face lower income risk compared to growth investors who are those in the best position to take financial risks. The study Cronqvist, Siegel, and Yu (2015) leads to different conclusions: it finds that the propensity to invest in value versus growth assets has roots in genetics and in life events (the latter effect being confirmed in Cocco, Gomes, and Lopes (2020), and the former being further detailed in a more general context in Cronqvist et al. (2015)). Psychological traits can also explain some factors: when agents extrapolate, they are likely to fuel momentum (this topic is thoroughly reviewed in Barberis (2018)). Micro- and macro-economic consequences of these preferences are detailed in Bhamra and Uppal (2019). To conclude this paragraph, we mention that theoretical models have also been proposed that link agents’ preferences and beliefs (via prospect theory) to market anomalies (see for instance Barberis, Jin, and Wang (2020)).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gS3uq9tJx4"}],"key":"w0VuGHgKka"}],"identifier":"b57e6a46","label":"b57e6a46","html_id":"b57e6a46","key":"LFmnR9ntym"},{"type":"block","kind":"notebook-content","data":{"id":"2edda522"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finally, we highlight the need of replicability of factor premia and echo the recent editorial by Harvey (2020). As is shown by Linnainmaa and Roberts (2018) and Hou, Xue, and Zhang (2020), many proclaimed factors are in fact very much data-dependent and often fail to deliver sustained profitability when the investment universe is altered or when the definition of variable changes (Clifford Asness and Frazzini (2013)).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tDLfhn51I8"}],"key":"KWKmtCGYoM"}],"identifier":"2edda522","label":"2edda522","html_id":"id-2edda522","key":"l5pFuFZQVa"},{"type":"block","kind":"notebook-content","data":{"id":"6d753b28"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Campbell Harvey and his co-authors, in a series of papers, tried to synthesize the research on factors in Harvey, Liu, and Zhu (2016), C. Harvey and Liu (2019) and Harvey and Liu (2019). His work underlines the need to set high bars for an anomaly to be called a ‘true’ factor. Increasing thresholds for ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R2gt6rUVng"},{"type":"inlineMath","value":"p","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>","key":"kT86xEoEwX"},{"type":"text","value":"-values is only a partial answer, as it is always possible to resort to data snooping in order to find an optimized strategy that will fail out-of-sample but that will deliver a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"We4bcKIDyN"},{"type":"inlineMath","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span>","key":"y5SKU4md68"},{"type":"text","value":"-statistic larger than three (or even four). Harvey (2017) recommends to resort to a Bayesian approach which blends data-based significance with a prior into a so-called Bayesianized ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TzcnQU2ix0"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"p","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QPKLGrdSU5"}],"key":"KbM11JGsjd"},{"type":"text","value":"-value (see subsection below).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"po4hxsanNi"}],"key":"vkVxtglA7a"}],"identifier":"6d753b28","label":"6d753b28","html_id":"id-6d753b28","key":"Hy9c1Bw4Je"},{"type":"block","kind":"notebook-content","data":{"id":"0e0d5787"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Following this work, researchers have continued to explore the richness of this zoo. Bryzgalova, Huang, and Julliard (2019) propose a tractable Bayesian estimation of large-dimensional factor models and evaluate all possible combinations of more than 50 factors, yielding an incredibly large number of coefficients. This combined with a Bayesianized Fama and MacBeth (1973) procedure allows to distinguish between pervasive and superfluous factors. Chordia, Goyal, and Saretto (2020) use simulations of 2 million trading strategies to estimate the rate of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j9wudlmPs8"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"false discoveries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SLAOAJ8Yky"}],"key":"wY3MYzHsJU"},{"type":"text","value":", that is, when a spurious factor is detected (type I error). They also advise to use thresholds for t-statistics that are well above three. In a similar vein, Harvey and Liu (2020) also underline that sometimes ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DWYGIoGpcZ"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"true","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jVxus5THBj"}],"key":"n8XIPRkRvu"},{"type":"text","value":" anomalies may be missed because of a one time ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ch0kgmTqNo"},{"type":"inlineMath","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span>","key":"Bk5mPkgpqp"},{"type":"text","value":"-statistic that is too low (type II error).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O6rHpXLB1b"}],"key":"CUHzWSVUHd"}],"identifier":"0e0d5787","label":"0e0d5787","html_id":"id-0e0d5787","key":"EYMiTfvXPk"},{"type":"block","kind":"notebook-content","data":{"id":"a27c526d"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The propensity of journals to publish positive results has led researchers to estimate the difference between reported returns and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bVCE4bSehK"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"true","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r11C6YFHHV"}],"key":"vyl3jHVOcj"},{"type":"text","value":" returns. A. Y. Chen and Zimmermann (2020) call this difference the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nRPXAPI81g"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"publication bias","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aP4ktjRmIs"}],"key":"OJT7LJQpPm"},{"type":"text","value":" and estimate it as roughly 12%. That is, if a published average return is 8%, the actual value may in fact be closer to (1-12%)*8%=7%. Qualitatively, this estimation of 12% is smaller than the out-of-sample reduction in returns found in McLean and Pontiff (2016).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"V9ps9ZUarw"}],"key":"vd7y8oVWee"}],"identifier":"a27c526d","label":"a27c526d","html_id":"a27c526d","key":"VIepNWtUFV"},{"type":"block","kind":"notebook-content","data":{"id":"18535f63"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Predictive regressions, sorts, and p-value issues","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mtbbDVh2eS"}],"identifier":"predictive-regressions-sorts-and-p-value-issues","label":"Predictive regressions, sorts, and p-value issues","html_id":"predictive-regressions-sorts-and-p-value-issues","implicit":true,"key":"GZigSO8wu7"}],"identifier":"18535f63","label":"18535f63","html_id":"id-18535f63","key":"sFSbSAzKUj"},{"type":"block","kind":"notebook-content","data":{"id":"bfebe719"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"For simplicity, we assume a simple form:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WHak4pb7rl"}],"key":"XC1LZuVG7u"}],"identifier":"bfebe719","label":"bfebe719","html_id":"bfebe719","key":"tE9f3rd04z"},{"type":"block","kind":"notebook-content","data":{"id":"74d1b3bc"},"children":[{"type":"math","value":"\\tag{3.2}\n\\textbf{r} = a+b\\textbf{x}+\\textbf{e},","enumerated":true,"position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable width=\"100%\"><mtr><mtd width=\"50%\"></mtd><mtd><mrow><mtext mathvariant=\"bold\">r</mtext><mo>=</mo><mi>a</mi><mo>+</mo><mi>b</mi><mtext mathvariant=\"bold\">x</mtext><mo>+</mo><mtext mathvariant=\"bold\">e</mtext><mo separator=\"true\">,</mo></mrow></mtd><mtd width=\"50%\"></mtd><mtd><mtext>(3.2)</mtext></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\tag{3.2}\n\\textbf{r} = a+b\\textbf{x}+\\textbf{e},</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4444em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">e</span></span><span class=\"mpunct\">,</span></span><span class=\"tag\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">(</span><span class=\"mord\"><span class=\"mord\">3.2</span></span><span class=\"mord\">)</span></span></span></span></span></span>","enumerator":"2","key":"jzam0gl3AG"}],"identifier":"74d1b3bc","label":"74d1b3bc","html_id":"id-74d1b3bc","key":"HD350ZmvTP"},{"type":"block","kind":"notebook-content","data":{"id":"03ef2992"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"where the vector ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rg5VI9wqQx"},{"type":"inlineMath","value":"\\textbf{r}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext mathvariant=\"bold\">r</mtext></mrow><annotation encoding=\"application/x-tex\">\\textbf{r}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4444em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">r</span></span></span></span></span>","key":"hJaeATs883"},{"type":"text","value":" stacks all returns of all stocks and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JMmVpgKqW2"},{"type":"inlineMath","value":"\\textbf{x}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext mathvariant=\"bold\">x</mtext></mrow><annotation encoding=\"application/x-tex\">\\textbf{x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4444em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">x</span></span></span></span></span>","key":"iRDoMgJy6I"},{"type":"text","value":" is a lagged variable so that the regression is indeed predictive. If the estimated ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yYWGqNUkA6"},{"type":"inlineMath","value":"\\hat{b}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>b</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{b}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9579em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9579em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">b</span></span><span style=\"top:-3.2634em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span></span></span></span></span></span></span>","key":"oujYVgIHvX"},{"type":"text","value":" is significant given a specified threshold, then it can be tempting to conclude that ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nhxtbXaR10"},{"type":"inlineMath","value":"\\textbf{x}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext mathvariant=\"bold\">x</mtext></mrow><annotation encoding=\"application/x-tex\">\\textbf{x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4444em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">x</span></span></span></span></span>","key":"gS1qVZG7E0"},{"type":"text","value":" does a good job at predicting returns. Hence, long-short portfolios related to extreme values of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ReF0aWiKka"},{"type":"inlineMath","value":"\\textbf{x}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext mathvariant=\"bold\">x</mtext></mrow><annotation encoding=\"application/x-tex\">\\textbf{x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4444em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">x</span></span></span></span></span>","key":"MNIsVZQMLQ"},{"type":"text","value":" (mind the sign of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XHc4PqbZYi"},{"type":"inlineMath","value":"\\hat{b}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>b</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{b}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9579em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9579em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">b</span></span><span style=\"top:-3.2634em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span></span></span></span></span></span></span>","key":"BDlxleI1Il"},{"type":"text","value":") are expected to generate profits. This is unfortunately often false because ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I6gb3dpEY3"},{"type":"inlineMath","value":"\\hat{b}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>b</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{b}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9579em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9579em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">b</span></span><span style=\"top:-3.2634em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span></span></span></span></span></span></span>","key":"ZNZPLAsPAq"},{"type":"text","value":" gives information on the past* ability of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qCwhHojFGt"},{"type":"inlineMath","value":"\\textbf{x}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext mathvariant=\"bold\">x</mtext></mrow><annotation encoding=\"application/x-tex\">\\textbf{x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4444em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">x</span></span></span></span></span>","key":"OUmJ1qZaz2"},{"type":"text","value":" to forecast returns. What happens in the future may be another story.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GmH42XOd9X"}],"key":"iE5sU2ga00"}],"identifier":"03ef2992","label":"03ef2992","html_id":"id-03ef2992","key":"FXoFb2Dlez"},{"type":"block","kind":"notebook-content","data":{"id":"3c1e0ccb"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Statistical tests are also used for portfolio sorts. Assume two extreme portfolios are expected to yield very different average returns (like very small cap versus very large cap, or strong winners versus bad losers). The portfolio returns are written ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P5qsAZsfuI"},{"type":"inlineMath","value":"r_t^+","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>r</mi><mi>t</mi><mo>+</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">r_t^+</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0572em;vertical-align:-0.2458em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8115em;\"><span style=\"top:-2.4542em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span><span style=\"top:-3.1031em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">+</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2458em;\"><span></span></span></span></span></span></span></span></span></span>","key":"SXOY7foKgp"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JS0ySyNGfs"},{"type":"inlineMath","value":"r_t^-","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>r</mi><mi>t</mi><mo>−</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">r_t^-</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0572em;vertical-align:-0.2458em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8115em;\"><span style=\"top:-2.4542em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span><span style=\"top:-3.1031em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">−</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2458em;\"><span></span></span></span></span></span></span></span></span></span>","key":"jtHLbsSR3Z"},{"type":"text","value":". The simplest test for the mean is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KnfhwpoXFh"},{"type":"inlineMath","value":"t=\\sqrt{T}\\frac{m_{r_+}-m_{r_-}}{\\sigma_{r_+-r_-}}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>=</mo><msqrt><mi>T</mi></msqrt><mfrac><mrow><msub><mi>m</mi><msub><mi>r</mi><mo>+</mo></msub></msub><mo>−</mo><msub><mi>m</mi><msub><mi>r</mi><mo>−</mo></msub></msub></mrow><msub><mi>σ</mi><mrow><msub><mi>r</mi><mo>+</mo></msub><mo>−</mo><msub><mi>r</mi><mo>−</mo></msub></mrow></msub></mfrac></mrow><annotation encoding=\"application/x-tex\">t=\\sqrt{T}\\frac{m_{r_+}-m_{r_-}}{\\sigma_{r_+-r_-}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.5854em;vertical-align:-0.606em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9267em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span><span style=\"top:-2.8867em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1133em;\"><span></span></span></span></span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9794em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2737em;\"><span style=\"top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3448em;margin-left:-0.0278em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5833em;\"></span><span class=\"mbin mtight\">+</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3219em;\"><span></span></span></span></span></span></span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3448em;margin-left:-0.0278em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5833em;\"></span><span class=\"mbin mtight\">−</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3219em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3729em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.571em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3448em;margin-left:-0.0278em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5833em;\"></span><span class=\"mbin mtight\">+</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3219em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3729em;\"><span></span></span></span></span></span></span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3448em;margin-left:-0.0278em;margin-right:0.1em;\"><span class=\"pstrut\" style=\"height:2.5833em;\"></span><span class=\"mbin mtight\">−</span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3219em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3729em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.606em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>","key":"I8vuBGgGu6"},{"type":"text","value":", where ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"supKDyaoP6"},{"type":"inlineMath","value":"T","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span>","key":"FReIDir6zn"},{"type":"text","value":" is the number of points and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JQyMV8AM9a"},{"type":"inlineMath","value":"m_{r_\\pm}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>m</mi><msub><mi>r</mi><mo>±</mo></msub></msub></mrow><annotation encoding=\"application/x-tex\">m_{r_\\pm}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7223em;vertical-align:-0.2918em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2737em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mbin mtight\">±</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2025em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2918em;\"><span></span></span></span></span></span></span></span></span></span>","key":"HMSKIiK6pZ"},{"type":"text","value":" denotes the means of returns and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LCL0Hn2Y8p"},{"type":"inlineMath","value":"\\sigma_{r_+-r_-}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>σ</mi><mrow><msub><mi>r</mi><mo>+</mo></msub><mo>−</mo><msub><mi>r</mi><mo>−</mo></msub></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\sigma_{r_+-r_-}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7223em;vertical-align:-0.2918em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2583em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2737em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mbin mtight\">+</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2025em;\"><span></span></span></span></span></span></span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2737em;\"><span style=\"top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mbin mtight\">−</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2025em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2918em;\"><span></span></span></span></span></span></span></span></span></span>","key":"QfjC13R85s"},{"type":"text","value":" is the standard deviation of the difference between the two series, i.e., the volatility of the long-short portfolio. In short, the statistic can be viewed as a scaled Sharpe ratio (though usually these ratios are computed for long-only portfolios) and can in turn be used to compute ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kEEoUMzsAI"},{"type":"inlineMath","value":"p","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>","key":"bxZLQnpoPX"},{"type":"text","value":"-values to assess the robustness of an anomaly. As is shown in Linnainmaa and Roberts (2018) and Hou, Xue, and Zhang (2020), many factors discovered by reasearchers fail to survive in out-of-sample tests.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w9wQPQcwAo"}],"key":"hJMIYMIolR"}],"identifier":"3c1e0ccb","label":"3c1e0ccb","html_id":"id-3c1e0ccb","key":"xn1ZrTkrI0"},{"type":"block","kind":"notebook-content","data":{"id":"9515601d"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"One reason why people are overly optimistic about anomalies they detect is the widespread reverse interpretation of the p-value. Often, it is thought of as the probability of one hypothesis (e.g., my anomaly exists) given the data. In fact, it’s the opposite; it’s the likelihood of your data sample, knowing that the anomaly holds.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GUY08C0ndp"}],"key":"l6UJ1DvdGr"}],"identifier":"9515601d","label":"9515601d","html_id":"id-9515601d","key":"Okj3wheb8R"},{"type":"block","kind":"notebook-content","data":{"id":"08a66415"},"children":[{"type":"math","value":"\\begin{align*}\np-\\text{value} &= P[D|H] \\\\\n\\text{target prob.}& = P[H|D]=\\frac{P[D|H]}{P[D]}\\times P[H],\n\\end{align*}","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>p</mi><mo>−</mo><mtext>value</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mi>P</mi><mo stretchy=\"false\">[</mo><mi>D</mi><mi mathvariant=\"normal\">∣</mi><mi>H</mi><mo stretchy=\"false\">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mtext>target prob.</mtext></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mo>=</mo><mi>P</mi><mo stretchy=\"false\">[</mo><mi>H</mi><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mo stretchy=\"false\">]</mo><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy=\"false\">[</mo><mi>D</mi><mi mathvariant=\"normal\">∣</mi><mi>H</mi><mo stretchy=\"false\">]</mo></mrow><mrow><mi>P</mi><mo stretchy=\"false\">[</mo><mi>D</mi><mo stretchy=\"false\">]</mo></mrow></mfrac><mo>×</mo><mi>P</mi><mo stretchy=\"false\">[</mo><mi>H</mi><mo stretchy=\"false\">]</mo><mo separator=\"true\">,</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align*}\np-\\text{value} &amp;= P[D|H] \\\\\n\\text{target prob.}&amp; = P[H|D]=\\frac{P[D|H]}{P[D]}\\times P[H],\n\\end{align*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:4.163em;vertical-align:-1.8315em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.3315em;\"><span style=\"top:-4.9185em;\"><span class=\"pstrut\" style=\"height:3.427em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord\">value</span></span></span></span><span style=\"top:-2.8315em;\"><span class=\"pstrut\" style=\"height:3.427em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">target prob.</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8315em;\"><span></span></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.3315em;\"><span style=\"top:-4.9185em;\"><span class=\"pstrut\" style=\"height:3.427em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mclose\">]</span></span></span><span style=\"top:-2.8315em;\"><span class=\"pstrut\" style=\"height:3.427em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mclose\">]</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mclose\">]</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.936em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mclose\">]</span><span class=\"mpunct\">,</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8315em;\"><span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"3","key":"UqJMevPMFo"}],"identifier":"08a66415","label":"08a66415","html_id":"id-08a66415","key":"ibEsrqic2U"},{"type":"block","kind":"notebook-content","data":{"id":"93e63450"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"where ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dXW1HANisb"},{"type":"inlineMath","value":"H","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi></mrow><annotation encoding=\"application/x-tex\">H</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span></span></span></span>","key":"ZMlqI77nXi"},{"type":"text","value":" stands for hypothesis and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XrHaZhJFGo"},{"type":"inlineMath","value":"D","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span>","key":"BF4VixN6a4"},{"type":"text","value":" for data. The equality in the second row is a plain application of Bayes’ identity: the interesting probability is in fact a transform of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Diz3rI7Uh7"},{"type":"inlineMath","value":"p","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>","key":"k1gpmIK3PL"},{"type":"text","value":"-value.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zbR09WV7Hd"}],"key":"Uep7K5EJPp"}],"identifier":"93e63450","label":"93e63450","html_id":"id-93e63450","key":"kwuOlkZ53U"},{"type":"block","kind":"notebook-content","data":{"id":"a85a5896"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Two articles (at least) discuss this idea. Harvey (2017) introduces ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vh8YuMJeYl"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Bayesianized","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tdZLPGmTLF"}],"key":"Wod6hnzZ0Q"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ewggPV0q7P"},{"type":"inlineMath","value":"p","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>","key":"YKSJ8JBte8"},{"type":"text","value":"-values:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iEiNBaRkI9"}],"key":"MAeSmDWeYo"}],"identifier":"a85a5896","label":"a85a5896","html_id":"a85a5896","key":"nnEHKgI3AK"},{"type":"block","kind":"notebook-content","data":{"id":"db2e8d27"},"children":[{"type":"math","value":"\\tag{3.3}\n\\text{Bayesianized } p-\\text{value}=\\text{Bpv}= e^{-t^2/2}\\times\\frac{\\text{prior}}{1+e^{-t^2/2}\\times \\text{prior}} ,","enumerated":true,"position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable width=\"100%\"><mtr><mtd width=\"50%\"></mtd><mtd><mrow><mtext>Bayesianized </mtext><mi>p</mi><mo>−</mo><mtext>value</mtext><mo>=</mo><mtext>Bpv</mtext><mo>=</mo><msup><mi>e</mi><mrow><mo>−</mo><msup><mi>t</mi><mn>2</mn></msup><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow></msup><mo>×</mo><mfrac><mtext>prior</mtext><mrow><mn>1</mn><mo>+</mo><msup><mi>e</mi><mrow><mo>−</mo><msup><mi>t</mi><mn>2</mn></msup><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow></msup><mo>×</mo><mtext>prior</mtext></mrow></mfrac><mo separator=\"true\">,</mo></mrow></mtd><mtd width=\"50%\"></mtd><mtd><mtext>(3.3)</mtext></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\tag{3.3}\n\\text{Bayesianized } p-\\text{value}=\\text{Bpv}= e^{-t^2/2}\\times\\frac{\\text{prior}}{1+e^{-t^2/2}\\times \\text{prior}} ,</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">Bayesianized </span></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord text\"><span class=\"mord\">value</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">Bpv</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1202em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0369em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8913em;\"><span style=\"top:-2.931em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mtight\">/2</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.2433em;vertical-align:-0.8984em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3449em;\"><span style=\"top:-2.296em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.814em;\"><span style=\"top:-2.989em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7463em;\"><span style=\"top:-2.786em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mtight\">/2</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord\">prior</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">prior</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8984em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mpunct\">,</span></span><span class=\"tag\"><span class=\"strut\" style=\"height:2.2433em;vertical-align:-0.8984em;\"></span><span class=\"mord text\"><span class=\"mord\">(</span><span class=\"mord\"><span class=\"mord\">3.3</span></span><span class=\"mord\">)</span></span></span></span></span></span>","enumerator":"4","key":"PUc7waepW4"}],"identifier":"db2e8d27","label":"db2e8d27","html_id":"db2e8d27","key":"xqziYVkvXq"},{"type":"block","kind":"notebook-content","data":{"id":"bd142a27"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"where ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Tuv2CBqfxf"},{"type":"inlineMath","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span>","key":"f0HguU3SBU"},{"type":"text","value":" is the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IP3eUfDhcz"},{"type":"inlineMath","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span>","key":"HTgzta1pqo"},{"type":"text","value":"-statistic obtained from the regression (i.e., the one that defines the p-value) and prior is the analyst’s estimation of the odds that the hypothesis (anomaly) is true. The prior is coded as follows. Suppose there is a p% chance that the null holds (i.e., (1-p)% for the anomaly). The odds are coded as ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gsNDqpZQcy"},{"type":"inlineMath","value":"p/(1-p)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mi mathvariant=\"normal\">/</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">p/(1-p)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mord\">/</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mclose\">)</span></span></span></span>","key":"eOtg8J6Zxk"},{"type":"text","value":". Thus, if the t-statistic is equal to 2 (corresponding to a p-value of 5% roughly) and the prior odds are equal to 6, then the Bpv is equal to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g0DKKg0HB8"},{"type":"inlineMath","value":"e^{-2}\\times 6 \\times(1+e^{-2}\\times 6)^{-1}\\approx 0.448","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>e</mi><mrow><mo>−</mo><mn>2</mn></mrow></msup><mo>×</mo><mn>6</mn><mo>×</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><msup><mi>e</mi><mrow><mo>−</mo><mn>2</mn></mrow></msup><mo>×</mo><mn>6</mn><msup><mo stretchy=\"false\">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>≈</mo><mn>0.448</mn></mrow><annotation encoding=\"application/x-tex\">e^{-2}\\times 6 \\times(1+e^{-2}\\times 6)^{-1}\\approx 0.448</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\">6</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0.448</span></span></span></span>","key":"vrI2bo4NfG"},{"type":"text","value":" and there is a 44.8% chance that the null is true. This interpretation stands in sharp contrast with the original ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XSWcAHdKNs"},{"type":"inlineMath","value":"p","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>","key":"TCnCQuSGIp"},{"type":"text","value":"-value which cannot be viewed as a probability that the null holds. Of course, one drawback is that the level of the prior is crucial and solely user-specified.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BDX8IB3FdP"}],"key":"IujCZbJ0IF"}],"identifier":"bd142a27","label":"bd142a27","html_id":"bd142a27","key":"k7MT88Mdiv"},{"type":"block","kind":"notebook-content","data":{"id":"bb0626be"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The work of Chinco, Neuhierl, and Weber (2020) is very different but shares some key concepts, like the introduction of Bayesian priors in regression outputs. They show that coercing the predictive regression with an ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hHZMD7CcoB"},{"type":"inlineMath","value":"L^2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>L</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">L^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span>","key":"qzwIteBRIc"},{"type":"text","value":" constraint (see the ridge regression in Chapter 5) amounts to introducing views on what the true distribution of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EnyhWnlJ7m"},{"type":"inlineMath","value":"b","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>","key":"VCUzgDvvuE"},{"type":"text","value":" is. The stronger the constraint, the more the estimate ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZfTNvT7idn"},{"type":"inlineMath","value":"\\hat{b}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>b</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{b}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9579em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9579em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">b</span></span><span style=\"top:-3.2634em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span></span></span></span></span></span></span>","key":"xcyZeILs4A"},{"type":"text","value":" will be shrunk towards zero. One key idea in their work is the assumption of a distribution for the true ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"af9oX3gtKV"},{"type":"inlineMath","value":"b","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>","key":"FZQYODd7ph"},{"type":"text","value":" across many anomalies. It is assumed to be Gaussian and centered. The interesting parameter is the standard deviation: the larger it is, the more frequently significant anomalies are discovered. Notably, the authors show that this parameter changes through time and we refer to the original paper for more details on this subject.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w3gNRTQ0KZ"}],"key":"ljITpE67Yc"}],"identifier":"bb0626be","label":"bb0626be","html_id":"bb0626be","key":"QvEtE9XSOR"},{"type":"block","kind":"notebook-content","data":{"id":"e893e18d"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Fama-Macbeth regressions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q50MJITRDz"}],"identifier":"fama-macbeth-regressions","label":"Fama-Macbeth regressions","html_id":"fama-macbeth-regressions","implicit":true,"key":"LQEDysU1Gw"}],"identifier":"e893e18d","label":"e893e18d","html_id":"e893e18d","key":"jWMJXYJwKg"},{"type":"block","kind":"notebook-content","data":{"id":"3dae66e5"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Another detection method was proposed by Fama and MacBeth (1973) through a two-stage regression analysis of risk premia. The first stage is a simple estimation of the relationship (): the regressions are run on a stock-by-stock basis over the corresponding time series. The resulting estimates ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Qv6YQXnxf7"},{"type":"inlineMath","value":"\\hat{\\beta}_{i,k}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>β</mi><mo>^</mo></mover><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\hat{\\beta}_{i,k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.244em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9579em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span></span><span style=\"top:-3.2634em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"S0mBTqP7Zi"},{"type":"text","value":" are then plugged into a second series of regressions:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KgcVNf7yzA"}],"key":"XXWsNjhaFt"}],"identifier":"3dae66e5","label":"3dae66e5","html_id":"id-3dae66e5","key":"UF7CvMo28v"},{"type":"block","kind":"notebook-content","data":{"id":"36ad82f6"},"children":[{"type":"math","value":"\\begin{align*}\nr_{t,n}= \\gamma_{t,0} + \\sum_{k=1}^K\\gamma_{t,k}\\hat{\\beta}_{n,k} + \\varepsilon_{t,n},\n\\end{align*}","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msub><mi>r</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo>=</mo><msub><mi>γ</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mn>0</mn></mrow></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></munderover><msub><mi>γ</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub><msub><mover accent=\"true\"><mi>β</mi><mo>^</mo></mover><mrow><mi>n</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub><mo>+</mo><msub><mi>ε</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo separator=\"true\">,</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align*}\nr_{t,n}= \\gamma_{t,0} + \\sum_{k=1}^K\\gamma_{t,k}\\hat{\\beta}_{n,k} + \\varepsilon_{t,n},\n\\end{align*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.4304em;vertical-align:-1.4652em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9652em;\"><span style=\"top:-3.9652em;\"><span class=\"pstrut\" style=\"height:3.8283em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8283em;\"><span style=\"top:-1.8479em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.3em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3021em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9579em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span></span><span style=\"top:-3.2634em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ε</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4652em;\"><span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"5","key":"O6RePy53HT"}],"identifier":"36ad82f6","label":"36ad82f6","html_id":"id-36ad82f6","key":"MVWQ6FKrdv"},{"type":"block","kind":"notebook-content","data":{"id":"3c48c0ef"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"which are run date-by-date on the cross-section of assets. Theoretically, the betas would be known and the regression would be run on the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LyKbtoqJkJ"},{"type":"inlineMath","value":"\\beta_{n,k}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>β</mi><mrow><mi>n</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\beta_{n,k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"LzswAbJFcC"},{"type":"text","value":" instead of their estimated values. The ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ABxghKuHDR"},{"type":"inlineMath","value":"\\hat{\\gamma}_{t,k}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>γ</mi><mo>^</mo></mover><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\hat{\\gamma}_{t,k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"oyUKWY7Nxy"},{"type":"text","value":" estimate the premia of factor ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q6WxB4qYVW"},{"type":"inlineMath","value":"k","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span>","key":"AnbfLvI3sh"},{"type":"text","value":" at time ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CtiiuPBgJO"},{"type":"inlineMath","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span>","key":"SiqCxDImX6"},{"type":"text","value":". Under suitable distributional assumptions on the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"d1qG249tDX"},{"type":"inlineMath","value":"\\varepsilon_{t,n}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>ε</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\varepsilon_{t,n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ε</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"MvXKzKjYO3"},{"type":"text","value":", statistical tests can be performed to determine whether these premia are significant or not. Typically, the statistic on the time-aggregated (average) premia ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Eg6GqI03Rn"},{"type":"inlineMath","value":"\\hat{\\gamma}_k=\\frac{1}{T}\\sum_{t=1}^T\\hat{\\gamma}_{t,k}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>γ</mi><mo>^</mo></mover><mi>k</mi></msub><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></msubsup><msub><mover accent=\"true\"><mi>γ</mi><mo>^</mo></mover><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\hat{\\gamma}_k=\\frac{1}{T}\\sum_{t=1}^T\\hat{\\gamma}_{t,k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3262em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9812em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"ZurVZ91Ngn"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CQfloEQQU6"}],"key":"wRhAtquRwb"}],"identifier":"3c48c0ef","label":"3c48c0ef","html_id":"id-3c48c0ef","key":"xJ1xSSOpJZ"},{"type":"block","kind":"notebook-content","data":{"id":"b117a2b3"},"children":[{"type":"math","value":"\\begin{align*}\nt_k=\\frac{\\hat{\\gamma}_k}{\\hat{\\sigma_k}/\\sqrt{T}}\n\\end{align*}","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msub><mi>t</mi><mi>k</mi></msub><mo>=</mo><mfrac><msub><mover accent=\"true\"><mi>γ</mi><mo>^</mo></mover><mi>k</mi></msub><mrow><mover accent=\"true\"><msub><mi>σ</mi><mi>k</mi></msub><mo>^</mo></mover><mi mathvariant=\"normal\">/</mi><msqrt><mi>T</mi></msqrt></mrow></mfrac></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align*}\nt_k=\\frac{\\hat{\\gamma}_k}{\\hat{\\sigma_k}/\\sqrt{T}}\n\\end{align*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.7381em;vertical-align:-1.1191em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.6191em;\"><span style=\"top:-3.6191em;\"><span class=\"pstrut\" style=\"height:3.3714em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.1833em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9267em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span><span style=\"top:-2.8867em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1133em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0667em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1191em;\"><span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"6","key":"W7V7yY4M4H"}],"identifier":"b117a2b3","label":"b117a2b3","html_id":"b117a2b3","key":"ElIJ7xVeR7"},{"type":"block","kind":"notebook-content","data":{"id":"672eb215"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"is often used in pure Gaussian contexts to assess whether or not the factor is significant (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"N95vbWNOob"},{"type":"inlineMath","value":"\\hat{\\sigma}_k","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>σ</mi><mo>^</mo></mover><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\hat{\\sigma}_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"V1FyY7w1WU"},{"type":"text","value":" is the standard deviation of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u8lU9zYHIv"},{"type":"inlineMath","value":"\\hat{\\gamma}_{t,k}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>γ</mi><mo>^</mo></mover><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\hat{\\gamma}_{t,k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">γ</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"GLhqSj3rom"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DGpGKFt6ox"}],"key":"cSWKSm2xKv"}],"identifier":"672eb215","label":"672eb215","html_id":"id-672eb215","key":"xj0AO0ck3o"},{"type":"block","kind":"notebook-content","data":{"id":"2454f452"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We refer to Jagannathan and Wang (1998) and Petersen (2009) for technical discussions on the biases and losses in accuracy that can be induced by standard ordinary least squares (OLS) estimations. Moreover, as the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FBvPkFMeTt"},{"type":"inlineMath","value":"\\hat\\beta_{i,k}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>β</mi><mo>^</mo></mover><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\hat\\beta_{i,k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.244em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9579em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span></span><span style=\"top:-3.2634em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"lTNQsndYS0"},{"type":"text","value":"\nin the second-pass regression are estimates, a second level of errors can arise (the so-called errors in variables). The interested reader will find some extensions and solutions in Shanken (1992), Ang, Liu, and Schwarz (2018) and Jegadeesh et al. (2019).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TgFbPXc5qy"}],"key":"wMUsYoMHRR"}],"identifier":"2454f452","label":"2454f452","html_id":"id-2454f452","key":"lz6yVVuy04"},{"type":"block","kind":"notebook-content","data":{"id":"ace4b9b8"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Below, we perform Fama and MacBeth (1973) regressions on our sample. We start by the first pass: individual estimation of betas. We build a dedicated function below to automate the process.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CxxZ2ZwX09"}],"key":"uMqqUWEybM"}],"identifier":"ace4b9b8","label":"ace4b9b8","html_id":"ace4b9b8","key":"jk04zTzhBN"},{"type":"block","kind":"notebook-code","data":{"id":"ec839713"},"children":[{"type":"code","lang":"python","executable":true,"value":"from pandas.tseries.offsets import MonthEnd\nstocks_list=list(returns.columns)\nFF_factors['date'] = pd.to_datetime(\n    FF_factors['date'], format='%Y%m', errors='coerce') + MonthEnd(0)\nFF_factors = FF_factors.dropna(subset=['date'])\nFF_factors['date'] = FF_factors['date'].dt.date.astype(str)\ndata_FM = pd.merge(returns.iloc[:,0].reset_index(),\n                   FF_factors.iloc[:,0:7],how='left',on=['date'])\ndata=FF_factors\ndata_FM.dropna(inplace=True)\n\nimport statsmodels.api as sm\nresults_params =[]\nreg_result=[]\ndf_res_full=[]\nfor i in range(len(returns.columns)):\n    Y=returns.iloc[:,i].shift(-1).reset_index()\n    Y=Y.drop(columns=['date'])\n    Y.dropna(inplace=True)\n    results=sm.OLS(endog=Y,exog=sm.add_constant(\n        data_FM.iloc[0:227,2:7])).fit()\n    results_params=results.params\n    reg_result_tmp=pd.DataFrame(results_params)\n    reg_result_tmp['stock_id']=stocks_list[i]\n    df_res_full.append(reg_result_tmp)\n\ndf_res_full = pd.concat(df_res_full)\ndf_res_full.reset_index(inplace=True)\ndf_res_full.rename(columns={\"index\":\"factors_name\",0:\"betas\"},inplace=True)\ndf_res_full_mat=df_res_full.pivot(index='stock_id',\n                                  columns='factors_name',values='betas')\ncolumn_names_inverted = [\"const\", \"MKT_RF\", \"SMB\",\"HML\",\"RMW\",\"CMA\"]\nreg_result = df_res_full_mat.reindex(columns=column_names_inverted)","identifier":"ec839713-code","enumerator":"4","html_id":"ec839713-code","key":"DgkA7XEwJw"},{"type":"outputs","id":"IMhf6lQ48gMHY1oK5EPW_","children":[{"type":"output","jupyter_data":{"ename":"ModuleNotFoundError","evalue":"No module named 'statsmodels'","output_type":"error","traceback":"\u001b[0;31m---------------------------------------------------------------------------\u001b[0m\n\n\u001b[0;31mModuleNotFoundError\u001b[0m                       Traceback (most recent call last)\n\nCell \u001b[0;32mIn[6], line 12\u001b[0m\n\n\u001b[1;32m      9\u001b[0m data\u001b[38;5;241m=\u001b[39mFF_factors\n\n\u001b[1;32m     10\u001b[0m data_FM\u001b[38;5;241m.\u001b[39mdropna(inplace\u001b[38;5;241m=\u001b[39m\u001b[38;5;28;01mTrue\u001b[39;00m)\n\n\u001b[0;32m---> 12\u001b[0m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;21;01mstatsmodels\u001b[39;00m\u001b[38;5;21;01m.\u001b[39;00m\u001b[38;5;21;01mapi\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;21;01msm\u001b[39;00m\n\n\u001b[1;32m     13\u001b[0m results_params \u001b[38;5;241m=\u001b[39m[]\n\n\u001b[1;32m     14\u001b[0m reg_result\u001b[38;5;241m=\u001b[39m[]\n\n\n\n\u001b[0;31mModuleNotFoundError\u001b[0m: No module named 'statsmodels'"},"children":[],"identifier":"ec839713-outputs-0","html_id":"ec839713-outputs-0","key":"duxpeueaCv"}],"identifier":"ec839713-outputs","html_id":"ec839713-outputs","key":"YqH7NMAeqm"}],"identifier":"ec839713","label":"ec839713","html_id":"ec839713","key":"bhy3jUl0XI"},{"type":"block","kind":"notebook-content","data":{"id":"c24b6587"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"TABLE 3.2: Sample of beta values (row numbers are stock IDs).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sk0b7TKTVF"}],"key":"LxkRcDmIJs"}],"identifier":"c24b6587","label":"c24b6587","html_id":"c24b6587","key":"wjTqozKG5O"},{"type":"block","kind":"notebook-code","data":{"id":"14104695","outputId":"ee25ca38-f9bd-4172-ffa6-2215e635fed8"},"children":[{"type":"code","lang":"python","executable":true,"value":"reg_result.head()","identifier":"14104695-code","enumerator":"5","html_id":"id-14104695-code","key":"fNqlWrFQFm"},{"type":"outputs","id":"_MzuQPPwgVQzYXP-8_xIq","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>factors_name</th>\n      <th>const</th>\n      <th>MKT_RF</th>\n      <th>SMB</th>\n      <th>HML</th>\n      <th>RMW</th>\n      <th>CMA</th>\n    </tr>\n    <tr>\n      <th>stock_id</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1</th>\n      <td>0.016794</td>\n      <td>0.163080</td>\n      <td>0.113891</td>\n      <td>-0.501349</td>\n      <td>0.564917</td>\n      <td>0.625479</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>0.009116</td>\n      <td>-0.221471</td>\n      <td>-0.119134</td>\n      <td>0.047801</td>\n      <td>-0.183690</td>\n      <td>-0.266907</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>0.011704</td>\n      <td>-0.001671</td>\n      <td>-0.047076</td>\n      <td>0.001015</td>\n      <td>-0.304841</td>\n      <td>-0.006846</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>0.014391</td>\n      <td>-0.345367</td>\n      <td>-0.017726</td>\n      <td>-0.012223</td>\n      <td>-0.276708</td>\n      <td>0.218442</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>0.013088</td>\n      <td>-0.196857</td>\n      <td>0.260565</td>\n      <td>0.139574</td>\n      <td>-0.174628</td>\n      <td>0.084721</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"factors_name     const    MKT_RF       SMB       HML       RMW       CMA\nstock_id                                                                \n1             0.016794  0.163080  0.113891 -0.501349  0.564917  0.625479\n3             0.009116 -0.221471 -0.119134  0.047801 -0.183690 -0.266907\n4             0.011704 -0.001671 -0.047076  0.001015 -0.304841 -0.006846\n7             0.014391 -0.345367 -0.017726 -0.012223 -0.276708  0.218442\n9             0.013088 -0.196857  0.260565  0.139574 -0.174628  0.084721","content_type":"text/plain"}}},"children":[],"identifier":"14104695-outputs-0","html_id":"id-14104695-outputs-0","key":"U5ZcLt9wFc"}],"identifier":"14104695-outputs","html_id":"id-14104695-outputs","key":"iJDOi3XCe6"}],"identifier":"14104695","label":"14104695","html_id":"id-14104695","key":"DqlgcuGC92"},{"type":"block","kind":"notebook-content","data":{"id":"f4693bad"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the table, MKT_RF is the market return minus the risk free rate. The corresponding coefficient is often referred to as the beta, especially in univariate regressions. We then reformat these betas from Table 3.2 to prepare the second pass. Each line corresponds to one asset: the first 5 columns are the estimated factor loadings and the remaining ones are the asset returns (date by date).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hKsBMaBDdV"}],"key":"p2SR3AXPTE"}],"identifier":"f4693bad","label":"f4693bad","html_id":"f4693bad","key":"OtJVyaVY8X"},{"type":"block","kind":"notebook-code","data":{"id":"c9310eae"},"children":[{"type":"code","lang":"python","executable":true,"value":"returns_trsp=returns.transpose()\ndf_2nd_pass=pd.concat([reg_result.iloc[:,1:6],returns.transpose()],axis=1)","identifier":"c9310eae-code","enumerator":"6","html_id":"c9310eae-code","key":"X0mu11RhOG"},{"type":"outputs","id":"yRmGq8dHfFIBvP2vaDGZm","children":[],"identifier":"c9310eae-outputs","html_id":"c9310eae-outputs","key":"lYqid9J5Yc"}],"identifier":"c9310eae","label":"c9310eae","html_id":"c9310eae","key":"xCogxYgyGt"},{"type":"block","kind":"notebook-code","data":{"id":"acbc0ce3"},"children":[{"type":"code","lang":"python","executable":true,"value":"df_2nd_pass.head()","identifier":"acbc0ce3-code","enumerator":"7","html_id":"acbc0ce3-code","key":"G4ZScyW4qu"},{"type":"outputs","id":"xfW15WIXPnf70qeYu0nGv","children":[],"identifier":"acbc0ce3-outputs","html_id":"acbc0ce3-outputs","key":"KYRClKBUWC"}],"identifier":"acbc0ce3","label":"acbc0ce3","html_id":"acbc0ce3","key":"zyUQ5DqJlu"},{"type":"block","kind":"notebook-content","data":{"id":"09564129"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"TABLE 3.3: Sample of reformatted beta values (ready for regression).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LzFgpa2NBu"}],"key":"LGMzBLyBkL"}],"identifier":"09564129","label":"09564129","html_id":"id-09564129","key":"GKFWFzlKgk"},{"type":"block","kind":"notebook-content","data":{"id":"93a0d38f"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We observe that the values of the first column (market betas) revolve around one, which is what we would expect. Finally, we are ready for the second round of regressions.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gWkZFoOdHE"}],"key":"rcPRcIVRk8"}],"identifier":"93a0d38f","label":"93a0d38f","html_id":"id-93a0d38f","key":"dY2VoiqlsN"},{"type":"block","kind":"notebook-code","data":{"id":"e563ab95","outputId":"d6bcb5ef-9b2b-4cb8-abb1-f501bb9b8f65"},"children":[{"type":"code","lang":"python","executable":true,"value":"betas=df_2nd_pass.iloc[:,0:5]\ndate_list=list(returns_trsp.columns)\nresults_params=[]\nreg_result=[]\ndf_res_full=[]\nfor j in range(len(returns_trsp.columns)):\n    Y=returns_trsp.iloc[:,j]\n    results=sm.OLS(endog=Y,exog=sm.add_constant(betas)).fit()\n    results_params=results.params\n    reg_result_tmp=pd.DataFrame(results_params)\n    reg_result_tmp['date']=date_list[j]\n    df_res_full.append(reg_result_tmp)\n\ndf_res_full = pd.concat(df_res_full)\ndf_res_full.reset_index(inplace=True)\ngammas=df_res_full\n\ngammas.rename(columns={\"index\":\"factors_name\", 0: betas\"},inplace=True)\ngammas_mat=gammas.pivot(index='date',columns='factors_name',values='betas')\ncolumn_names_inverted = [\"const\", \"MKT_RF\", \"SMB\",\"HML\",\"RMW\",\"CMA\"]\ngammas_mat = gammas_mat.reindex(columns=column_names_inverted)\ngammas_mat.head()","identifier":"e563ab95-code","enumerator":"8","html_id":"e563ab95-code","key":"VMIkYwXEl7"},{"type":"outputs","id":"wT7Qa-d8qCHgzAbxUiaIe","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>factors_name</th>\n      <th>const</th>\n      <th>MKT_RF</th>\n      <th>SMB</th>\n      <th>HML</th>\n      <th>RMW</th>\n      <th>CMA</th>\n    </tr>\n    <tr>\n      <th>date</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2000-01-31</th>\n      <td>0.016321</td>\n      <td>-0.028149</td>\n      <td>-0.005428</td>\n      <td>0.026040</td>\n      <td>0.078635</td>\n      <td>0.020799</td>\n    </tr>\n    <tr>\n      <th>2000-02-29</th>\n      <td>0.038006</td>\n      <td>0.006451</td>\n      <td>0.001304</td>\n      <td>-0.051183</td>\n      <td>-0.088695</td>\n      <td>0.043300</td>\n    </tr>\n    <tr>\n      <th>2000-03-31</th>\n      <td>0.014755</td>\n      <td>0.032022</td>\n      <td>0.056734</td>\n      <td>-0.068795</td>\n      <td>-0.103291</td>\n      <td>-0.045641</td>\n    </tr>\n    <tr>\n      <th>2000-04-30</th>\n      <td>0.132511</td>\n      <td>0.199729</td>\n      <td>-0.452970</td>\n      <td>0.281773</td>\n      <td>0.341264</td>\n      <td>-0.023676</td>\n    </tr>\n    <tr>\n      <th>2000-05-31</th>\n      <td>0.012919</td>\n      <td>-0.050791</td>\n      <td>-0.064603</td>\n      <td>0.067470</td>\n      <td>0.110572</td>\n      <td>0.057169</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"factors_name     const    MKT_RF       SMB       HML       RMW       CMA\ndate                                                                    \n2000-01-31    0.016321 -0.028149 -0.005428  0.026040  0.078635  0.020799\n2000-02-29    0.038006  0.006451  0.001304 -0.051183 -0.088695  0.043300\n2000-03-31    0.014755  0.032022  0.056734 -0.068795 -0.103291 -0.045641\n2000-04-30    0.132511  0.199729 -0.452970  0.281773  0.341264 -0.023676\n2000-05-31    0.012919 -0.050791 -0.064603  0.067470  0.110572  0.057169","content_type":"text/plain"}}},"children":[],"identifier":"e563ab95-outputs-0","html_id":"e563ab95-outputs-0","key":"oEg79BYbXq"}],"identifier":"e563ab95-outputs","html_id":"e563ab95-outputs","key":"R8iANASsjJ"}],"identifier":"e563ab95","label":"e563ab95","html_id":"e563ab95","key":"BUqWNKRSP1"},{"type":"block","kind":"notebook-content","data":{"id":"8a356255"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"TABLE 3.4: Sample of gamma (premia) values.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xsi6gaY6Hc"}],"key":"mIvbD87STJ"}],"identifier":"8a356255","label":"8a356255","html_id":"id-8a356255","key":"TMGUwiymPP"},{"type":"block","kind":"notebook-content","data":{"id":"a608a17a"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visually, the estimated premia are also very volatile. We plot their estimated values for the market, SMB and HML factors.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"adK6hOz6Jl"}],"key":"oQ1MXEkvFX"}],"identifier":"a608a17a","label":"a608a17a","html_id":"a608a17a","key":"uwXnCfEbth"},{"type":"block","kind":"notebook-code","data":{"id":"d0b18a6f"},"children":[{"type":"code","lang":"python","executable":true,"value":"gammas_mat.iloc[:,1:4].plot(\n    figsize=(14,10), subplots=True,sharey=True, sharex=True)\n # Take gammas:\nplt.show() # Plot","identifier":"d0b18a6f-code","enumerator":"9","html_id":"d0b18a6f-code","key":"TSYzwn6uOu"},{"type":"outputs","id":"410JQ_fwiI6Q51oXXk1C8","children":[],"identifier":"d0b18a6f-outputs","html_id":"d0b18a6f-outputs","key":"rJWjjsCjoR"}],"identifier":"d0b18a6f","label":"d0b18a6f","html_id":"d0b18a6f","key":"TbZ26BxLaL"},{"type":"block","kind":"notebook-content","data":{"id":"3fcda039"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"FIGURE 3.3: Time series plot of gammas (premia) in Fama-Macbeth regressions.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tAzvrsQNWL"}],"key":"StQKeDpoXE"}],"identifier":"3fcda039","label":"3fcda039","html_id":"id-3fcda039","key":"LXL76n1zSx"},{"type":"block","kind":"notebook-content","data":{"id":"287ebded"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The two spikes at the end of the sample signal potential colinearity issues; two factors seem to compensate in an unclear aggregate effect. This underlines the usefulness of penalized estimates (see Chapter 5).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JYaAreARKD"}],"key":"vLGWA44Und"}],"identifier":"287ebded","label":"287ebded","html_id":"id-287ebded","key":"GTsjUOihRp"},{"type":"block","kind":"notebook-content","data":{"id":"775de5cd"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Factor competition","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"V0LffBqS48"}],"identifier":"factor-competition","label":"Factor competition","html_id":"factor-competition","implicit":true,"key":"uJkHKDYpzO"}],"identifier":"775de5cd","label":"775de5cd","html_id":"id-775de5cd","key":"YDFMToU3Ns"},{"type":"block","kind":"notebook-content","data":{"id":"7c07cf84"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The core purpose of factors is to explain the cross-section of stock returns. For theoretical and practical reasons, it is preferable if redundancies within factors are avoided. Indeed, redundancies imply collinearity which is known to perturb estimates (Belsley, Kuh, and Welsch (2005)). In addition, when asset managers decompose the performance of their returns into factors, overlaps (high absolute correlations) between factors yield exposures that are less interpretable; positive and negative exposures compensate each other spuriously.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ISQ6gftHoM"}],"key":"KqITn3q0P5"}],"identifier":"7c07cf84","label":"7c07cf84","html_id":"id-7c07cf84","key":"DyEDnfk8jR"},{"type":"block","kind":"notebook-content","data":{"id":"e956071f"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A simple protocol to sort out redundant factors is to run regressions of each factor against all others:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FXU7uxUNUj"}],"key":"GSJXs6GaPK"}],"identifier":"e956071f","label":"e956071f","html_id":"e956071f","key":"jTnp5SDppI"},{"type":"block","kind":"notebook-content","data":{"id":"a7f7f3b7"},"children":[{"type":"math","value":"\\tag{3.4}\nf_{t,k} = a_k +\\sum_{j\\neq k} \\delta_{k,j} f_{t,j} + \\epsilon_{t,k}.","enumerated":true,"position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable width=\"100%\"><mtr><mtd width=\"50%\"></mtd><mtd><mrow><msub><mi>f</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub><mo>=</mo><msub><mi>a</mi><mi>k</mi></msub><mo>+</mo><munder><mo>∑</mo><mrow><mi>j</mi><mo mathvariant=\"normal\">≠</mo><mi>k</mi></mrow></munder><msub><mi>δ</mi><mrow><mi>k</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><msub><mi>f</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>ϵ</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub><mi mathvariant=\"normal\">.</mi></mrow></mtd><mtd width=\"50%\"></mtd><mtd><mtext>(3.4)</mtext></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\tag{3.4}\nf_{t,k} = a_k +\\sum_{j\\neq k} \\delta_{k,j} f_{t,j} + \\epsilon_{t,k}.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.4882em;vertical-align:-1.4382em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.05em;\"><span style=\"top:-1.8479em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\"><span class=\"mrel mtight\"><span class=\"mord vbox mtight\"><span class=\"thinbox mtight\"><span class=\"rlap mtight\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord mtight\"><span class=\"mrel mtight\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel mtight\">=</span></span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4382em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03785em;\">δ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\">.</span></span><span class=\"tag\"><span class=\"strut\" style=\"height:2.4882em;vertical-align:-1.4382em;\"></span><span class=\"mord text\"><span class=\"mord\">(</span><span class=\"mord\"><span class=\"mord\">3.4</span></span><span class=\"mord\">)</span></span></span></span></span></span>","enumerator":"7","key":"WwB7O8oQIg"}],"identifier":"a7f7f3b7","label":"a7f7f3b7","html_id":"a7f7f3b7","key":"dvPif7ZwH7"},{"type":"block","kind":"notebook-content","data":{"id":"4b311350"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The interesting metric is then the test statistic associated to the estimation of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QDZ3LbIFVL"},{"type":"inlineMath","value":"a_k","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">a_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"KuyxnzDjR1"},{"type":"text","value":". If ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WhnszpGBxv"},{"type":"inlineMath","value":"a_k","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">a_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"fzOMS5cxpP"},{"type":"text","value":" is significantly different from zero, then the cross-section of (other) factors fails to explain exhaustively the average return of factor ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oNv5LSCmZJ"},{"type":"inlineMath","value":"k","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span>","key":"FfNISF1Nvv"},{"type":"text","value":". Otherwise, the return of the factor can be captured by exposures to the other factors and is thus redundant.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hKduqA8KYz"}],"key":"dE685Zva7E"}],"identifier":"4b311350","label":"4b311350","html_id":"id-4b311350","key":"Bk39NiQPC4"},{"type":"block","kind":"notebook-content","data":{"id":"231bb355"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"One mainstream application of this technique was performed in Fama and French (2015), in which the authors show that the HML factor is redundant when taking into account four other factors (Market, SMB, RMW and CMA). Below, we reproduce their analysis on an updated sample. We start our analysis directly with the database maintained by Kenneth French.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eCk7TXwPSU"}],"key":"S4ow6Eqhk5"}],"identifier":"231bb355","label":"231bb355","html_id":"id-231bb355","key":"Whb14fMViz"},{"type":"block","kind":"notebook-content","data":{"id":"48ac6481"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can run the regressions that determine the redundancy of factors via the procedure defined in Equation (3.4).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tw1Ft1EJ2T"}],"key":"WUAam5xHBn"}],"identifier":"48ac6481","label":"48ac6481","html_id":"id-48ac6481","key":"s9XSxsof7n"},{"type":"block","kind":"notebook-code","data":{"id":"aabe1f37"},"children":[{"type":"code","lang":"python","executable":true,"value":"df_res_full=[]\nfor i in range(0,5):\n    factors_list_full = [\"MKT_RF\",\"SMB\",\"HML\",\"RMW\",\"CMA\"]\n    factors_list_tmp=factors_list_full\n    Y=FF_factors[factors_list_full[i]]\n    factors_list_tmp.remove(factors_list_full[i])\n    data=FF_factors[factors_list_tmp]\n    results=sm.OLS(endog=Y,exog=sm.add_constant(data)).fit()\n    results_param=results.params\n    reg_result_tmp=pd.DataFrame(results_param)\n    reg_result_tmp['factor_mnemo']=Y.name\n    reg_result_tmp['pvalue']=results.pvalues\n    df_res_full.append(reg_result_tmp)\n\ndf_res_full = pd.concat(df_res_full)\ndf_res_full.reset_index(inplace=True)\ndf_res_full.rename(columns={0: \"coeff\"},inplace=True)","identifier":"aabe1f37-code","enumerator":"10","html_id":"aabe1f37-code","key":"aeztEzTyOO"},{"type":"outputs","id":"qnItWp-3Io4uxuEd4SEVw","children":[],"identifier":"aabe1f37-outputs","html_id":"aabe1f37-outputs","key":"jV9hcGmqWr"}],"identifier":"aabe1f37","label":"aabe1f37","html_id":"aabe1f37","key":"ktDL1Qdg6c"},{"type":"block","kind":"notebook-content","data":{"id":"be52f6fc"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We obtain the vector of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QxAvB6ymMW"},{"type":"inlineMath","value":"α","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">α</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span>","key":"hVA9HtvGcH"},{"type":"text","value":" values from Equation (). Below, we format these figures along with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tPfO0HgVXW"},{"type":"inlineMath","value":"p","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>","key":"zi00tctqG0"},{"type":"text","value":"-value thresholds and export them in a summary table. The significance levels of coefficients is coded as follows:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"W2jfZE0G3c"},{"type":"inlineMath","value":"0<(***)<0.001<(**)<0.01<(*)<0.05","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mo stretchy=\"false\">(</mo><mo>∗</mo><mo>∗</mo><mo>∗</mo><mo stretchy=\"false\">)</mo><mo>&lt;</mo><mn>0.001</mn><mo>&lt;</mo><mo stretchy=\"false\">(</mo><mo>∗</mo><mo>∗</mo><mo stretchy=\"false\">)</mo><mo>&lt;</mo><mn>0.01</mn><mo>&lt;</mo><mo stretchy=\"false\">(</mo><mo>∗</mo><mo stretchy=\"false\">)</mo><mo>&lt;</mo><mn>0.05</mn></mrow><annotation encoding=\"application/x-tex\">0&lt;(***)&lt;0.001&lt;(**)&lt;0.01&lt;(*)&lt;0.05</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6835em;vertical-align:-0.0391em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∗</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6835em;vertical-align:-0.0391em;\"></span><span class=\"mord\">0.001</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">∗</span><span class=\"mord\">∗</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6835em;vertical-align:-0.0391em;\"></span><span class=\"mord\">0.01</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">∗</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0.05</span></span></span></span>","key":"wjDvfGFVb5"}],"key":"pefR8b4Iqw"}],"identifier":"be52f6fc","label":"be52f6fc","html_id":"be52f6fc","key":"l55omD2w7P"},{"type":"block","kind":"notebook-code","data":{"id":"ef59a788","outputId":"b795d66a-c22e-4480-cf42-48229245550a"},"children":[{"type":"code","lang":"python","executable":true,"value":"df_significance=df_res_full\nconditions = [(df_significance['pvalue'] > 0) & (\n    df_significance['pvalue'] < 0.001), # create a conditions' list\n(df_significance['pvalue']>0.001) & (df_significance['pvalue']<0.01),\n(df_significance['pvalue']>0.01) & (df_significance['pvalue']<0.05),\n(df_significance['pvalue'] > 0.05)]\n\nvaluest = ['(***)','(**)','(*)','na']\n# Values assign for each condition\n\n# create new column and use np.select to assign values\ndf_significance['significance']=np.select(conditions,valuest).astype(str)\ndf_significance['coeff']=round(df_significance.coeff,3)\ndf_significance['coeff_stars']=df_significance.coeff.astype(\n    str)+' '+df_significance.significance\n\n# display updated DataFrame in the right shape\nnew_index=['MKT_RF','SMB','HML','RMW','CMA']\ndf_significance_pivot=df_significance.pivot(\n    index='index',columns='factor_mnemo',values='coeff_stars').transpose()\ndf_significance_pivot= df_significance_pivot.reindex(\n    columns=column_names_inverted)\ndf_significance_pivot.reindex(new_index)","identifier":"ef59a788-code","enumerator":"11","html_id":"ef59a788-code","key":"edYy60lufV"},{"type":"outputs","id":"cTZ0Ut5mTFn--2UDI-_I_","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>index</th>\n      <th>const</th>\n      <th>MKT_RF</th>\n      <th>SMB</th>\n      <th>HML</th>\n      <th>RMW</th>\n      <th>CMA</th>\n    </tr>\n    <tr>\n      <th>factor_mnemo</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>MKT_RF</th>\n      <td>0.008 (***)</td>\n      <td>NaN</td>\n      <td>0.264 (***)</td>\n      <td>0.101 na</td>\n      <td>-0.345 (***)</td>\n      <td>-0.903 (***)</td>\n    </tr>\n    <tr>\n      <th>SMB</th>\n      <td>0.003 (*)</td>\n      <td>0.134 (***)</td>\n      <td>NaN</td>\n      <td>0.077 na</td>\n      <td>-0.428 (***)</td>\n      <td>-0.126 na</td>\n    </tr>\n    <tr>\n      <th>HML</th>\n      <td>-0.0 na</td>\n      <td>0.027 na</td>\n      <td>0.041 na</td>\n      <td>NaN</td>\n      <td>0.151 (***)</td>\n      <td>1.015 (***)</td>\n    </tr>\n    <tr>\n      <th>RMW</th>\n      <td>0.004 (***)</td>\n      <td>-0.091 (***)</td>\n      <td>-0.222 (***)</td>\n      <td>0.149 (***)</td>\n      <td>NaN</td>\n      <td>-0.278 (***)</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"index               const        MKT_RF           SMB          HML  \\\nfactor_mnemo                                                         \nMKT_RF        0.008 (***)           NaN   0.264 (***)     0.101 na   \nSMB             0.003 (*)   0.134 (***)           NaN     0.077 na   \nHML               -0.0 na      0.027 na      0.041 na          NaN   \nRMW           0.004 (***)  -0.091 (***)  -0.222 (***)  0.149 (***)   \n\nindex                  RMW           CMA  \nfactor_mnemo                              \nMKT_RF        -0.345 (***)  -0.903 (***)  \nSMB           -0.428 (***)     -0.126 na  \nHML            0.151 (***)   1.015 (***)  \nRMW                    NaN  -0.278 (***)  ","content_type":"text/plain"}}},"children":[],"identifier":"ef59a788-outputs-0","html_id":"ef59a788-outputs-0","key":"n5cIURALgc"}],"identifier":"ef59a788-outputs","html_id":"ef59a788-outputs","key":"SrCX67oucK"}],"identifier":"ef59a788","label":"ef59a788","html_id":"ef59a788","key":"LD5O7SUgDM"},{"type":"block","kind":"notebook-content","data":{"id":"225c3655"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"TABLE 3.5: Factor competition among the Fama and French (2015) five factors.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XA47cMP0nz"}],"key":"ts6wGzf2jh"}],"identifier":"225c3655","label":"225c3655","html_id":"id-225c3655","key":"e8eMQBH61d"},{"type":"block","kind":"notebook-content","data":{"id":"0be2ed6f"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We confirm that the HML factor remains redundant when the four others are present in the asset pricing model. The figures we obtain are very close to the ones in the original paper (Fama and French (2015)), which makes sense, since we only add 5 years to their initial sample.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hQx1hSeJw9"}],"key":"RzKjTmG5EG"}],"identifier":"0be2ed6f","label":"0be2ed6f","html_id":"id-0be2ed6f","key":"vqP8Om2bNr"},{"type":"block","kind":"notebook-content","data":{"id":"b699ba60"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"At a more macro-level, researchers also try to figure out which models (i.e., combinations of factors) are the most likely, given the data empirically observed (and possibly given priors formulated by the econometrician). For instance, this stream of literature seeks to quantify to which extent the 3-factor model of Fama and French (1993) outperforms the 5 factors in Fama and French (2015). In this direction, De Moor, Dhaene, and Sercu (2015) introduce a novel computation for p-values that compare the relative likelihood that two models pass a zero-alpha test. More generally, the Bayesian method of Barillas and Shanken (2018) was subsequently improved by Chib, Zeng, and Zhao (2020).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tPNa6NOqFo"}],"key":"Z9km7AkzUX"}],"identifier":"b699ba60","label":"b699ba60","html_id":"b699ba60","key":"LDyADRNhwI"},{"type":"block","kind":"notebook-content","data":{"id":"d3ef8a58"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Lastly, even the optimal number of factors is a subject of disagreement among conclusions of recent work. While the traditional literature focuses on a limited number (3-5) of factors, more recent research by DeMiguel et al. (2020), He, Huang, and Zhou (2020), Kozak, Nagel, and Santosh (2019) and Freyberger, Neuhierl, and Weber (2020) advocates the need to use at least 15 or more (in contrast, Kelly, Pruitt, and Su (2019) argue that a small number of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"v14jZOceIT"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"latent","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"enw1G4JkaN"}],"key":"CbwoWQQEOk"},{"type":"text","value":" factors may suffice). Green, Hand, and Zhang (2017) even find that the number of characteristics that help explain the cross-section of returns varies in time.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YrknMXIEXJ"}],"key":"VaP92iqu8A"}],"identifier":"d3ef8a58","label":"d3ef8a58","html_id":"d3ef8a58","key":"ZbKObZWjNT"},{"type":"block","kind":"notebook-content","data":{"id":"48b824d8"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Advanced techniques","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CIwalJ2ZPn"}],"identifier":"advanced-techniques","label":"Advanced techniques","html_id":"advanced-techniques","implicit":true,"key":"XJs5cqogxM"}],"identifier":"48b824d8","label":"48b824d8","html_id":"id-48b824d8","key":"ntOwEdhkXe"},{"type":"block","kind":"notebook-content","data":{"id":"ffc08b5c"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The ever increasing number of factors combined to their importance in asset management has led researchers to craft more subtle methods in order to   organize’’ the so-called factor zoo and, more importantly, to detect spurious anomalies and compare different asset pricing model specifications. We list a few of them below. - Feng, Giglio, and Xiu (2020) combine LASSO selection with Fama-MacBeth regressions to test if new factor models are worth it. They quantify the gain of adding one new factor to a set of predefined factors and show that many factors reported in papers published in the 2010 decade do not add much incremental value;","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rlLMD1N89D"}],"key":"z1fxvrndp3"}],"identifier":"ffc08b5c","label":"ffc08b5c","html_id":"ffc08b5c","key":"PdAxI50Sh8"},{"type":"block","kind":"notebook-content","data":{"id":"25cfce65"},"children":[{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"C. Harvey and Liu (2019) (in a similar vein) use bootstrap on orthogonalized factors. They make the case that correlations among predictors is a major issue and their method aims at solving this problem. Their lengthy procedure seeks to test if maximal additional contribution of a candidate variable is significant;","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wxrrnZ5HfY"}],"key":"x3YfNPOdao"}],"key":"vIWSCiCQHN"},{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Fama and French (2018) compare asset pricing models through squared maximum Sharpe ratios;","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EHpvdZYbmi"}],"key":"BnSOovvOXC"}],"key":"hxXvbSyQ0N"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Giglio and Xiu (2019) estimate factor risk premia using a three-pass method based on principal component analysis;","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"n7I8oL4u5d"}],"key":"eOXUWgYCfo"}],"key":"sQb0djQZDK"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Pukthuanthong, Roll, and Subrahmanyam (2018) disentangle priced and non-priced factors via a combination of principal component analysis and Fama and MacBeth (1973) regressions;","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"WEaxBZzjVI"}],"key":"gXPsN239tG"}],"key":"vTPD77AM3R"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Gospodinov, Kan, and Robotti (2019) warn against factor misspecification (when spurious factors are included in the list of regressors). Traded factors (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"JWa2TWBL2a"},{"type":"inlineMath","value":"resp","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mi>e</mi><mi>s</mi><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">resp</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">res</span><span class=\"mord mathnormal\">p</span></span></span></span>","key":"K66P7hGzeH"},{"type":"text","value":". macro-economic factors) seem more likely (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tmlc9Z79zt"},{"type":"inlineMath","value":"resp","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mi>e</mi><mi>s</mi><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">resp</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">res</span><span class=\"mord mathnormal\">p</span></span></span></span>","key":"emHOLVP9wB"},{"type":"text","value":". less likely) to yield robust identifications (see also Bryzgalova (2019)).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZHACriR9OF"}],"key":"F9osuvRigX"}],"key":"zjPjAmvI3a"}],"key":"n9OSk6WzhO"}],"identifier":"25cfce65","label":"25cfce65","html_id":"id-25cfce65","key":"cUQQfar4K1"},{"type":"block","kind":"notebook-content","data":{"id":"af63bee4"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There is obviously no infallible method, but the number of contributions in the field highlights the need for robustness. This is evidently a major concern when crafting investment decisions based on factor intuitions. One major hurdle for short-term strategies is the likely time-varying feature of factors. We refer for instance to Ang and Kristensen (2012) and Cooper and Maio (2019) for practical results and to Gagliardini, Ossola, and Scaillet (2016) and S. Ma et al. (2020) for more theoretical treatments (with additional empirical results).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DwkAD3lH4A"}],"key":"U8sGwmCphl"}],"identifier":"af63bee4","label":"af63bee4","html_id":"af63bee4","key":"xCudyCyTj1"},{"type":"block","kind":"notebook-content","data":{"id":"59cd49c3"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Factors or characteristics?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WXmbH4mJvJ"}],"identifier":"factors-or-characteristics","label":"Factors or characteristics?","html_id":"factors-or-characteristics","implicit":true,"key":"R16EEfsETG"}],"identifier":"59cd49c3","label":"59cd49c3","html_id":"id-59cd49c3","key":"VlY67Llb0x"},{"type":"block","kind":"notebook-content","data":{"id":"45f2e62e"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The decomposition of returns into linear factor models is convenient because of its simple interpretation. There is nonetheless a debate in the academic literature about whether firm returns are indeed explained by exposure to macro-economic factors or simply by the characteristics of firms. In their early study, Lakonishok, Shleifer, and Vishny (1994) argue that one explanation of the value premium comes from incorrect extrapolation of past earning growth rates. Investors are overly optimistic about firms subject to recent profitability. Consequently, future returns are (also) driven by the core (accounting) features of the firm. The question is then to disentangle which effect is the most pronounced when explaining returns: characteristics versus exposures to macro-economic factors.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S1MekiLJwh"}],"key":"Zq3F0pqakr"}],"identifier":"45f2e62e","label":"45f2e62e","html_id":"id-45f2e62e","key":"zLJZvZwkaW"},{"type":"block","kind":"notebook-content","data":{"id":"3ab6258e"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In their seminal contribution on this topic, Daniel and Titman (1997) provide evidence in favour of the former (two follow-up papers are K. Daniel, Titman, and Wei (2001) and Daniel and Titman (2012)). They show that firms with high book-to-market ratios or small capitalizations display higher average returns, even if they are negatively loaded on the HML or SMB factors. Therefore, it seems that it is indeed the intrinsic characteristics that matter, and not the factor exposure. For further material on characteristics’ role in return explanation or prediction, we refer to the following contributions: - Section 2.5.2. in Goyal (2012) surveys pre-2010 results on this topic;","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JE3HgwdsHv"}],"key":"GSyvNAqYU0"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Chordia, Goyal, and Shanken (2019) find that characteristics explain a larger proportion of variation in estimated expected returns than factor loadings;","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"VEGoANxh3D"}],"key":"oAL89eYIR2"}],"key":"m5xOK2jfSn"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Kozak, Nagel, and Santosh (2018) reconcile factor-based explanations of premia to a theoretical model in which some agents’ demands are sentiment driven;","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pZZcWA0NK2"}],"key":"irt1h7cSTI"}],"key":"F0zjMKnotK"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Han et al. (2019) show with penalized regressions that 20 to 30 characteristics (out of 94) are useful for the prediction of monthly returns of US stocks. Their methodology is interesting: they regress returns against characteristics to build forecasts and then regress the returns on the forecast to assess if they are reliable. The latter regression uses a LASSO-type penalization (see Chapter 5) so that useless characteristics are excluded from the model. The penalization is extended to elasticnet in Rapach and Zhou (2019).","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"mdYJdjku2K"}],"key":"o8mtyTaQ7R"}],"key":"BqqgoiV33I"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Kelly, Pruitt, and Su (2019) and Kim, Korajczyk, and Neuhierl (2019) both estimate models in which factors are latent but loadings (betas) and possibly alphas depend on characteristics. Kirby (2020) generalizes the first approach by introducing regime-switching. In contrast, Lettau and Pelger (2020a) and Lettau and Pelger (2020b) estimate latent factors without any link to particular characteristics (and provide large sample asymptotic properties of their methods).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bxvGN0bHfr"}],"key":"ytYajEmjSd"}],"key":"iwYzGnDlAd"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"In the same vein as Hoechle, Schmid, and Zimmermann (2018), Gospodinov, Kan, and Robotti (2019) and Bryzgalova (2019) and discuss potential errors that arise when working with portfolio sorts that yield long-short returns. The authors show that in some cases, tests based on this procedure may be deceitful. This happens when the characteristic chosen to perform the sort is correlated with an external (unobservable) factor. They propose a novel regression-based approach aimed at bypassing this problem.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Czixszn46p"}],"key":"j3XsGuwUr2"}],"key":"JmW63SwHDy"}],"key":"gmZQx2FBwB"}],"identifier":"3ab6258e","label":"3ab6258e","html_id":"id-3ab6258e","key":"RvNkAq9nKR"},{"type":"block","kind":"notebook-content","data":{"id":"5bd0b825"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"More recently and in a separate stream of literature, R. S. J. Koijen and Yogo (2019) have introduced a demand model in which investors form their portfolios according to their preferences towards particular firm characteristics. They show that this allows them to mimic the portfolios of large institutional investors. In their model, aggregate demands (and hence, prices) are directly linked to characteristics, not to factors. In a follow-up paper, R. S. Koijen, Richmond, and Yogo (2019) show that a few sets of characteristics suffice to predict future returns. They also show that, based on institutional holdings from the UK and the US, the largest investors are those who are the most influencial in the formation of prices. In a similar vein, Betermier, Calvet, and Jo (2019) derive an elegant (theoretical) general equilibrium model that generates some well-documented anomalies (size, book-to-market). The models of Arnott et al. (2014) and Alti and Titman (2019) are also able to theoretically generate known anomalies. Finally, in I. Martin and Nagel (2019), characteristics influence returns via the role they play in the predictability of dividend growth. This paper discussed the asymptotic case when the number of assets and the number of characteristics are proportional and both increase to infinity.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QTyNxPzkaz"}],"key":"U9Ib3UxhNU"}],"identifier":"5bd0b825","label":"5bd0b825","html_id":"id-5bd0b825","key":"Su8VntQeGE"},{"type":"block","kind":"notebook-content","data":{"id":"fc675daf"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Hot Topics: momentum, timing and ESG","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yt8SBMlqgO"}],"identifier":"hot-topics-momentum-timing-and-esg","label":"Hot Topics: momentum, timing and ESG","html_id":"hot-topics-momentum-timing-and-esg","implicit":true,"key":"O4JJ1hExOT"}],"identifier":"fc675daf","label":"fc675daf","html_id":"fc675daf","key":"jYUxHstixK"},{"type":"block","kind":"notebook-content","data":{"id":"307a3497"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Factor momentum","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pbEe8tZfFM"}],"identifier":"factor-momentum","label":"Factor momentum","html_id":"factor-momentum","implicit":true,"key":"K0x2ZQ4Nec"}],"identifier":"307a3497","label":"307a3497","html_id":"id-307a3497","key":"vqDmwBbC0S"},{"type":"block","kind":"notebook-content","data":{"id":"d9d09f71"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A recent body of literature unveils a time series momentum property of factor returns. For instance, Gupta and Kelly (2019) report that autocorrelation patterns within these returns is statistically significant.7 Similar results are obtained in Falck, Rej, and Thesmar (2020). In the same vein, Arnott et al. (2020) make the case that the industry momentum found in Moskowitz and Grinblatt (1999) can in fact be explained by this factor momentum. Going even further, Ehsani and Linnainmaa (2019) conclude that the original momentum factor is in fact the aggregation of the autocorrelation that can be found in all other factors. Given the data obtained on Ken French’s website, we compute the autocorrelation function (ACF) of factors. We recall that","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yfDqztHHiD"}],"key":"pvAJ63SHBX"}],"identifier":"d9d09f71","label":"d9d09f71","html_id":"d9d09f71","key":"rB4katdq2b"},{"type":"block","kind":"notebook-content","data":{"id":"079d888a"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Acknowledging the profitability of factor momentum, H. Yang (2020b) seeks to understand its source and decomposes stock factor momentum portfolios into two components: factor timing portfolio and a static portfolio. The former seeks to profit from the serial correlations of factor returns while the latter tries to harness factor premia. The author shows that it is the static portfolio that explains the larger portion of factor momentum returns. In H. Yang (2020a), the same author presents a new estimator to gauge factor momentum predictability. Words of caution are provided in Leippold and Yang (2021).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FAWC0na9uV"}],"key":"ZnsGvbfKZt"}],"identifier":"079d888a","label":"079d888a","html_id":"id-079d888a","key":"ekjz5C9Qls"},{"type":"block","kind":"notebook-content","data":{"id":"77e5614f"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Lastly, Garcia, Medeiros, and Ribeiro (2021) document factor momentum at the daily frequency.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"K21UMO8yjE"}],"key":"o8ihRPAR8N"}],"identifier":"77e5614f","label":"77e5614f","html_id":"id-77e5614f","key":"H6vNi1S3MT"},{"type":"block","kind":"notebook-content","data":{"id":"823c91ad"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Given the data obtained on Ken French’s website, we compute the autocorrelation function (ACF) of factors. We recall that","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FYXa7agUFO"}],"key":"NdqhbVvVLm"}],"identifier":"823c91ad","label":"823c91ad","html_id":"id-823c91ad","key":"LhGGmMyfFb"},{"type":"block","kind":"notebook-content","data":{"id":"41118846"},"children":[{"type":"math","value":"\\begin{align*}\n\\text{ACF}_k(\\textbf{x}_t)=\\mathbb{E}[(\\textbf{x}_t-\\bar{\\textbf{x}})(\\textbf{x}_{t+k}-\\bar{\\textbf{x}})].\n\\end{align*}","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msub><mtext>ACF</mtext><mi>k</mi></msub><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mi>t</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mi mathvariant=\"double-struck\">E</mi><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mi>t</mi></msub><mo>−</mo><mover accent=\"true\"><mtext mathvariant=\"bold\">x</mtext><mo>ˉ</mo></mover><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo>+</mo><mi>k</mi></mrow></msub><mo>−</mo><mover accent=\"true\"><mtext mathvariant=\"bold\">x</mtext><mo>ˉ</mo></mover><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align*}\n\\text{ACF}_k(\\textbf{x}_t)=\\mathbb{E}[(\\textbf{x}_t-\\bar{\\textbf{x}})(\\textbf{x}_{t+k}-\\bar{\\textbf{x}})].\n\\end{align*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.5em;vertical-align:-0.5em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1em;\"><span style=\"top:-3.16em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">ACF</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathbb\">E</span><span class=\"mopen\">[(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5812em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">x</span></span></span><span style=\"top:-3.0134em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5812em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">x</span></span></span><span style=\"top:-3.0134em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"mclose\">)]</span><span class=\"mord\">.</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5em;\"><span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"8","key":"JaSqHcfcO4"}],"identifier":"41118846","label":"41118846","html_id":"id-41118846","key":"O3ql4ZqM56"},{"type":"block","kind":"notebook-code","data":{"id":"95743e99"},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(2,2,figsize=(10,5),sharex='all', sharey='all')\n# subplot and sharing axes\nsm.graphics.tsa.plot_acf(FF_factors.RMW, lags=10, ax=ax[0,0],title='RMW')\nsm.graphics.tsa.plot_acf(FF_factors.CMA, lags=10, ax=ax[1,0],title='CMA')\nsm.graphics.tsa.plot_acf(FF_factors.SMB, lags=10, ax=ax[0,1],title='SMB')\nsm.graphics.tsa.plot_acf(FF_factors.HML, lags=10, ax=ax[1,1],title='HML')\nplt.show()","identifier":"95743e99-code","enumerator":"12","html_id":"id-95743e99-code","key":"sJagX90h8C"},{"type":"outputs","id":"pQ7h66qu3b9RFmRckcz4D","children":[],"identifier":"95743e99-outputs","html_id":"id-95743e99-outputs","key":"N039qcgeWv"}],"identifier":"95743e99","label":"95743e99","html_id":"id-95743e99","key":"qr5FXNRfCk"},{"type":"block","kind":"notebook-content","data":{"id":"ae0a8f0b"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"FIGURE 3.4: Autocorrelograms of common factor portfolios.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xr7eRaP0m4"}],"key":"Mvf2TR4UEp"}],"identifier":"ae0a8f0b","label":"ae0a8f0b","html_id":"ae0a8f0b","key":"UW23dMFpqH"},{"type":"block","kind":"notebook-content","data":{"id":"68f64b6e"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Of the four chosen series, only the size factor is not significantly autocorrelated at the first order.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MVxUloGHp8"}],"key":"cJD3cbCFgC"}],"identifier":"68f64b6e","label":"68f64b6e","html_id":"id-68f64b6e","key":"mw4LZkhC0p"},{"type":"block","kind":"notebook-content","data":{"id":"c269fe82"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Factor timing","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rqEcgKvImg"}],"identifier":"factor-timing","label":"Factor timing","html_id":"factor-timing","implicit":true,"key":"ysa8EKJ2Qr"}],"identifier":"c269fe82","label":"c269fe82","html_id":"c269fe82","key":"QVIKxwlWfU"},{"type":"block","kind":"notebook-content","data":{"id":"ac5c0cf0"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Given the abundance of evidence of the time-varying nature of factor premia, it is legitimate to wonder if it is possible to predict when factor will perform well or badly. The evidence on the effectiveness of timing is diverse: positive for Greenwood and Hanson (2012), Hodges et al. (2017), Hasler, Khapko, and Marfe (2019), Haddad, Kozak, and Santosh (2020) and Lioui and Tarelli (2020), negative for Asness et al. (2017) and mixed for Dichtl et al. (2019). There is no consensus on which predictors to use (general macroeconomic indicators in Hodges et al. (2017), stock issuances versus repurchases in Greenwood and Hanson (2012), and aggregate fundamental data in Dichtl et al. (2019)). A method for building reasonable timing strategies for long-only portfolios with sustainable transaction costs is laid out in Leippold and Rüegg (2020). In ML-based factor investing, it is possible to resort to more granularity by combining firm-specific attributes to large-scale economic data as we explain in Section 4.7.2.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GL7sf6Tz4q"}],"key":"xiNdZGwtg4"}],"identifier":"ac5c0cf0","label":"ac5c0cf0","html_id":"ac5c0cf0","key":"xMKmEGXkQt"},{"type":"block","kind":"notebook-content","data":{"id":"80dfe16b"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The green factors","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E81P1WPO0j"}],"identifier":"the-green-factors","label":"The green factors","html_id":"the-green-factors","implicit":true,"key":"cYBFvhqrAl"}],"identifier":"80dfe16b","label":"80dfe16b","html_id":"id-80dfe16b","key":"FB3xmf6XlM"},{"type":"block","kind":"notebook-content","data":{"id":"c0a01027"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The demand for ethical financial products has sharply risen during the 2010 decade, leading to the creation of funds dedicated to socially responsible investing (SRI - see Camilleri (2020)). Though this phenomenon is not really new (Schueth (2003), Hill et al. (2007)), its acceleration has prompted research about whether or not characteristics related to ESG criteria (environment, social, governance) are priced. Dozens and even possibly hundreds of papers have been devoted to this question, but no consensus has been reached. More and more, researchers study the financial impact of climate change (see Bernstein, Gustafson, and Lewis (2019), Hong, Li, and Xu (2019) and Hong, Karolyi, and Scheinkman (2020)) and the societal push for responsible corporate behavior (Fabozzi (2020), Kurtz (2020)). We gather below a very short list of papers that suggests conflicting results:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"awYQMuPgcD"}],"key":"dSXCTjWKMd"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"favorable","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"f7qtABZQpS"}],"key":"p63UUuUSvJ"},{"type":"text","value":": ESG investing works (Kempf and Osthoff (2007), Cheema-Fox et al. (2020)), can work (Nagy, Kassam, and Lee (2016), Alessandrini and Jondeau (2020)), or can at least be rendered efficient (Branch and Cai (2012)). A large meta-study reports overwhelming favorable results (Friede, Busch, and Bassen (2015)), but of course, they could well stem from the publication bias towards positive results.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qzBLLMKZCs"}],"key":"wkXKgoC1Qz"}],"key":"zEPA2Ffjyy"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"unfavorable","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sC1j1hPKAP"}],"key":"OzztWTXOBO"},{"type":"text","value":": Ethical investing is not profitable according to Adler and Kritzman (2008) and Blitz and Swinkels (2020). An ESG factor should be long unethical firms and short ethical ones (Lioui (2018)).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aawAl4ZRzW"}],"key":"PI0PuLkuL2"}],"key":"LTScLTi5uq"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"mixed","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hHoYIvCa2z"}],"key":"kZyZfrHbBI"},{"type":"text","value":": ESG investing may be beneficial globally but not locally (Chakrabarti and Sen (2020)). Portfolios relying on ESG screening do not significantly outperform those with no screening but are subject to lower levels of volatility (Gibson et al. (2020), Gougler and Utz (2020)). As is often the case, the devil is in the details, and results depend on whether to use E, S or G (Bruder et al. (2019)).","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"oz0O0L3HbZ"}],"key":"decfD4I1X7"}],"key":"DXYZPB6GL9"}],"key":"vJUWYUanFO"}],"identifier":"c0a01027","label":"c0a01027","html_id":"c0a01027","key":"Qg91v8uj4e"},{"type":"block","kind":"notebook-content","data":{"id":"b1754e7a"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"On top of these contradicting results, several articles point towards complexities in the measurement of ESG. Depending on the chosen criteria and on the data provider, results can change drastically (see Galema, Plantinga, and Scholtens (2008), Berg, Koelbel, and Rigobon (2020) and Atta-Darkua et al. (2020)).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"X0jazXLdHN"}],"key":"jvSJ4C23A3"}],"identifier":"b1754e7a","label":"b1754e7a","html_id":"b1754e7a","key":"GHV7TL4VIg"},{"type":"block","kind":"notebook-content","data":{"id":"ffb610aa"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We end this short section by noting that of course ESG criteria can directly be integrated into ML model, as is for instance done in Franco et al. (2020).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sIhK73zQEL"}],"key":"XzExq7iAeh"}],"identifier":"ffb610aa","label":"ffb610aa","html_id":"ffb610aa","key":"xIhsAoKCYS"},{"type":"block","kind":"notebook-content","data":{"id":"c6cbb2ee"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The links with machine learning","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wv8QXg4Xp0"}],"identifier":"the-links-with-machine-learning","label":"The links with machine learning","html_id":"the-links-with-machine-learning","implicit":true,"key":"WLrT0bjAr5"}],"identifier":"c6cbb2ee","label":"c6cbb2ee","html_id":"c6cbb2ee","key":"C2EpOD4zJl"},{"type":"block","kind":"notebook-content","data":{"id":"ee561f2e"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Given the exponential increase in data availability, the obvious temptation of any asset manager is to try to infer future returns from the abundance of attributes available at the firm level. We allude to classical data like accounting ratios and to alternative data, such as sentiment. This task is precisely the aim of Machine Learning. Given a large set of predictor variables (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pSPMaKMeSV"},{"type":"inlineMath","value":"\\mathbf{X}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">X</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbf{X}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6861em;\"></span><span class=\"mord mathbf\">X</span></span></span></span>","key":"NUzky8oBRP"},{"type":"text","value":"), the goal is to predict a proxy for future performance ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GtiB2BSzht"},{"type":"inlineMath","value":"\\mathbf{y}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">y</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbf{y}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.1944em;\"></span><span class=\"mord mathbf\" style=\"margin-right:0.01597em;\">y</span></span></span></span>","key":"XmxUdOQdDD"},{"type":"text","value":" through a model of the form (2.1).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HCWxVhZ2lp"}],"key":"Z4VtRCWELa"}],"identifier":"ee561f2e","label":"ee561f2e","html_id":"ee561f2e","key":"ya2By0N8xo"},{"type":"block","kind":"notebook-content","data":{"id":"950f808c"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Some attempts toward this direction have already been made (e.g., Brandt, Santa-Clara, and Valkanov (2009), Hjalmarsson and Manchev (2012), Ammann, Coqueret, and Schade (2016), DeMiguel et al. (2020)), but not with any ML intent or focus originally. In retrospect, these approaches do share some links with ML tools. The general formulation is the following. At time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o9W3lF9oGf"},{"type":"break","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wqo6QnOcAq"},{"type":"inlineMath","value":"T","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span>","key":"CRz92kWlml"},{"type":"text","value":", the agent or investor seeks to solve the following program:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pLwQaNZ0EY"}],"key":"iiYKtWjbVZ"}],"identifier":"950f808c","label":"950f808c","html_id":"id-950f808c","key":"LEx8aQ98uc"},{"type":"block","kind":"notebook-content","data":{"id":"46b5fa5b"},"children":[{"type":"math","value":"\\begin{align*}\n\\underset{\\boldsymbol{\\theta}_T}{\\max} \\ \\mathbb{E}_T\\left[ u(r_{p,T+1})\\right] = \\underset{\\boldsymbol{\\theta}_T}{\\max} \\ \\mathbb{E}_T\\left[ u\\left(\\left(\\bar{\\textbf{w}}_T+\\textbf{x}_T\\boldsymbol{\\theta}_T\\right)'\\textbf{r}_{T+1}\\right)\\right] ,\n\\end{align*}","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi><munder><mo><mi>max</mi><mo>⁡</mo></mo><msub><mi mathvariant=\"bold-italic\">θ</mi><mi>T</mi></msub></munder></mi><mtext> </mtext><msub><mi mathvariant=\"double-struck\">E</mi><mi>T</mi></msub><mrow><mo fence=\"true\">[</mo><mi>u</mi><mo stretchy=\"false\">(</mo><msub><mi>r</mi><mrow><mi>p</mi><mo separator=\"true\">,</mo><mi>T</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">)</mo><mo fence=\"true\">]</mo></mrow><mo>=</mo><mi><munder><mo><mi>max</mi><mo>⁡</mo></mo><msub><mi mathvariant=\"bold-italic\">θ</mi><mi>T</mi></msub></munder></mi><mtext> </mtext><msub><mi mathvariant=\"double-struck\">E</mi><mi>T</mi></msub><mrow><mo fence=\"true\">[</mo><mi>u</mi><mrow><mo fence=\"true\">(</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mover accent=\"true\"><mtext mathvariant=\"bold\">w</mtext><mo>ˉ</mo></mover><mi>T</mi></msub><mo>+</mo><msub><mtext mathvariant=\"bold\">x</mtext><mi>T</mi></msub><msub><mi mathvariant=\"bold-italic\">θ</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><msub><mtext mathvariant=\"bold\">r</mtext><mrow><mi>T</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence=\"true\">)</mo></mrow><mo fence=\"true\">]</mo></mrow><mo separator=\"true\">,</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align*}\n\\underset{\\boldsymbol{\\theta}_T}{\\max} \\ \\mathbb{E}_T\\left[ u(r_{p,T+1})\\right] = \\underset{\\boldsymbol{\\theta}_T}{\\max} \\ \\mathbb{E}_T\\left[ u\\left(\\left(\\bar{\\textbf{w}}_T+\\textbf{x}_T\\boldsymbol{\\theta}_T\\right)&#x27;\\textbf{r}_{T+1}\\right)\\right] ,\n\\end{align*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.0442em;vertical-align:-0.7721em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2721em;\"><span style=\"top:-3.3803em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4306em;\"><span style=\"top:-2.3479em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord boldsymbol mtight\" style=\"margin-right:0.03194em;\">θ</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3567em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1433em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\"><span class=\"mop\">max</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8524em;\"><span></span></span></span></span></span></span><span class=\"mspace\"> </span><span class=\"mord\"><span class=\"mord mathbb\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathnormal\">u</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4306em;\"><span style=\"top:-2.3479em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord boldsymbol mtight\" style=\"margin-right:0.03194em;\">θ</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3567em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1433em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\"><span class=\"mop\">max</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8524em;\"><span></span></span></span></span></span></span><span class=\"mspace\"> </span><span class=\"mord\"><span class=\"mord mathbb\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">[</span></span><span class=\"mord mathnormal\">u</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5812em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">w</span></span></span><span style=\"top:-3.0134em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03194em;\">θ</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8918em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">]</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7721em;\"><span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"9","key":"hSS0gRaUWC"}],"identifier":"46b5fa5b","label":"46b5fa5b","html_id":"id-46b5fa5b","key":"inE7mONU4P"},{"type":"block","kind":"notebook-content","data":{"id":"417ec769"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"where ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ohaU9wHrI5"},{"type":"inlineMath","value":"u","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span>","key":"ENfp0vRNhk"},{"type":"text","value":" is some utility function and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vKgEpso5j8"},{"type":"inlineMath","value":"r_{p,T+1}=\\left(\\bar{\\textbf{w}}_T+\\textbf{x}_T\\boldsymbol{\\theta}_T\\right)'\\textbf{r}_{T+1}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>r</mi><mrow><mi>p</mi><mo separator=\"true\">,</mo><mi>T</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msup><mrow><mo fence=\"true\">(</mo><msub><mover accent=\"true\"><mtext mathvariant=\"bold\">w</mtext><mo>ˉ</mo></mover><mi>T</mi></msub><mo>+</mo><msub><mtext mathvariant=\"bold\">x</mtext><mi>T</mi></msub><msub><mi mathvariant=\"bold-italic\">θ</mi><mi>T</mi></msub><mo fence=\"true\">)</mo></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><msub><mtext mathvariant=\"bold\">r</mtext><mrow><mi>T</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding=\"application/x-tex\">r_{p,T+1}=\\left(\\bar{\\textbf{w}}_T+\\textbf{x}_T\\boldsymbol{\\theta}_T\\right)&#x27;\\textbf{r}_{T+1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1418em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5812em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">w</span></span></span><span style=\"top:-3.0134em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03194em;\">θ</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8918em;\"><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span>","key":"FQOuETgDWV"},{"type":"text","value":" is the return of the portfolio, which is defined as a benchmark ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y7mr3vj4ft"},{"type":"inlineMath","value":"\\bar{\\textbf{w}}_T","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mtext mathvariant=\"bold\">w</mtext><mo>ˉ</mo></mover><mi>T</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\bar{\\textbf{w}}_T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7312em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5812em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord text\"><span class=\"mord textbf\">w</span></span></span><span style=\"top:-3.0134em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.25em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"woLVNWjqmV"},{"type":"text","value":" plus some deviations from this benchmark that are a linear function of features ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"a6qZuaFkrO"},{"type":"inlineMath","value":"\\textbf{x}_T\\boldsymbol{\\theta}_T","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mtext mathvariant=\"bold\">x</mtext><mi>T</mi></msub><msub><mi mathvariant=\"bold-italic\">θ</mi><mi>T</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\textbf{x}_T\\boldsymbol{\\theta}_T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03194em;\">θ</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"pdLITwvwdL"},{"type":"text","value":". The above program may be subject to some external constraints (e.g., to limit leverage).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KtkPfeNJ0f"}],"key":"Xx4YPooUV7"}],"identifier":"417ec769","label":"417ec769","html_id":"id-417ec769","key":"l2BtYlBBRn"},{"type":"block","kind":"notebook-content","data":{"id":"4b943628"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In practice, the vector ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XJufaPTqJ4"},{"type":"inlineMath","value":"\\boldsymbol{\\theta}_T","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"bold-italic\">θ</mi><mi>T</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\boldsymbol{\\theta}_T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03194em;\">θ</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"nuAFtrQDFo"},{"type":"text","value":" must be estimated using past data (from ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CbxOAIOHNL"},{"type":"inlineMath","value":"T-\\tau","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mo>−</mo><mi>τ</mi></mrow><annotation encoding=\"application/x-tex\">T-\\tau</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.1132em;\">τ</span></span></span></span>","key":"fxoq5ztTWl"},{"type":"text","value":" to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MxF4EgOtuN"},{"type":"inlineMath","value":"T-1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">T-1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>","key":"oNcMOVZrEY"},{"type":"text","value":"): the agent seeks the solution of","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tLcgZKDk5l"}],"key":"rfRhtzhwjo"}],"identifier":"4b943628","label":"4b943628","html_id":"id-4b943628","key":"Wd66PkIiCQ"},{"type":"block","kind":"notebook-content","data":{"id":"6f880b78"},"children":[{"type":"math","value":"\\begin{align}\n\\tag{3.5}\n\\underset{\\boldsymbol{\\theta}_T}{\\text{max}} \\ \\frac{1}{\\tau} \\sum_{t=T-\\tau}^{T-1} u \\left( \\sum_{i=1}^{N_T}\\left(\\bar{w}_{i,t}+ \\boldsymbol{\\theta}'_T \\textbf{x}_{i,t} \\right)r_{i,t+1} \\right)\n\\end{align}","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd class =\"mtr-glue\"></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi><munder><mo><mtext>max</mtext></mo><msub><mi mathvariant=\"bold-italic\">θ</mi><mi>T</mi></msub></munder></mi><mtext> </mtext><mfrac><mn>1</mn><mi>τ</mi></mfrac><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mi>T</mi><mo>−</mo><mi>τ</mi></mrow><mrow><mi>T</mi><mo>−</mo><mn>1</mn></mrow></munderover><mi>u</mi><mrow><mo fence=\"true\">(</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>N</mi><mi>T</mi></msub></munderover><mrow><mo fence=\"true\">(</mo><msub><mover accent=\"true\"><mi>w</mi><mo>ˉ</mo></mover><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>t</mi></mrow></msub><mo>+</mo><msubsup><mi mathvariant=\"bold-italic\">θ</mi><mi>T</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msubsup><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>t</mi></mrow></msub><mo fence=\"true\">)</mo></mrow><msub><mi>r</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence=\"true\">)</mo></mrow></mrow></mstyle></mtd><mtd class =\"mtr-glue\"></mtd><mtd class =\"mml-eqn-num\"></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align}\n\\tag{3.5}\n\\underset{\\boldsymbol{\\theta}_T}{\\text{max}} \\ \\frac{1}{\\tau} \\sum_{t=T-\\tau}^{T-1} u \\left( \\sum_{i=1}^{N_T}\\left(\\bar{w}_{i,t}+ \\boldsymbol{\\theta}&#x27;_T \\textbf{x}_{i,t} \\right)r_{i,t+1} \\right)\n\\end{align}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.4923em;vertical-align:-1.4962em;\"></span><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9962em;\"><span style=\"top:-3.9962em;\"><span class=\"pstrut\" style=\"height:3.8396em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4306em;\"><span style=\"top:-2.3479em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord boldsymbol mtight\" style=\"margin-right:0.03194em;\">θ</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3567em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1433em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\"><span class=\"mord text\"><span class=\"mord\">max</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8524em;\"><span></span></span></span></span></span></span><span class=\"mspace\"> </span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3214em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.1132em;\">τ</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8283em;\"><span style=\"top:-1.8557em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mrel mtight\">=</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mbin mtight\">−</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.1132em;\">τ</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.3em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3527em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">u</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">(</span></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8396em;\"><span style=\"top:-1.8723em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.05em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">∑</span></span></span><span style=\"top:-4.3113em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3567em;margin-left:-0.109em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1433em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2777em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03194em;\">θ</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8362em;\"><span style=\"top:-2.453em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span><span style=\"top:-3.1473em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">)</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4962em;\"><span></span></span></span></span></span></span></span><span class=\"tag\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9962em;\"><span style=\"top:-3.9962em;\"><span class=\"pstrut\" style=\"height:3.8396em;\"></span><span><span class=\"mord text\"><span class=\"mord\">(</span><span class=\"mord\"><span class=\"mord\">3.5</span></span><span class=\"mord\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4962em;\"><span></span></span></span></span></span></span></span></span>","enumerator":"10","key":"wUr8hnwodG"}],"identifier":"6f880b78","label":"6f880b78","html_id":"id-6f880b78","key":"XTz33jybr1"},{"type":"block","kind":"notebook-content","data":{"id":"2c02e042"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"on a sample of size ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A5qV4oZ4Ni"},{"type":"inlineMath","value":"τ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>τ</mi></mrow><annotation encoding=\"application/x-tex\">τ</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.1132em;\">τ</span></span></span></span>","key":"pf8uNY1e01"},{"type":"text","value":" where ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NpqGWSuI3a"},{"type":"inlineMath","value":"N_T","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>N</mi><mi>T</mi></msub></mrow><annotation encoding=\"application/x-tex\">N_T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"d5GyX1K8Kx"},{"type":"text","value":" is the number of asset in the universe. The above formulation can be viewed as a learning task in which the parameters are chosen such that the reward (average return) is maximized.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rmJj0fkJTX"}],"key":"TCQCroGQzz"}],"identifier":"2c02e042","label":"2c02e042","html_id":"id-2c02e042","key":"DIOwqvilay"},{"type":"block","kind":"notebook-content","data":{"id":"7fe92462"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A short list of recent references","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P7VTirB8zd"}],"identifier":"a-short-list-of-recent-references","label":"A short list of recent references","html_id":"a-short-list-of-recent-references","implicit":true,"key":"NgjC3dKn24"}],"identifier":"7fe92462","label":"7fe92462","html_id":"id-7fe92462","key":"lREm8If39p"},{"type":"block","kind":"notebook-content","data":{"id":"309550d8"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Independent of a characteristics-based approach, ML applications in finance have blossomed, initially working with price data only and later on integrating firm characteristics as predictors. We cite a few references below, grouped by methodological approach:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UI9VB7IxBk"}],"key":"XwdqtlpYiU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"penalized quadratic programming: Goto and Xu (2015), Ban, El Karoui, and Lim (2016) and Perrin and Roncalli (2019),","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"b1ffAsrfms"}],"key":"syV7yjzMLb"}],"key":"ei03s9znqy"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"regularized predictive regressions: Rapach, Strauss, and Zhou (2013) and Alexander Chinco, Clark-Joseph, and Ye (2019),","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"UaQvN4d35G"}],"key":"C5DIymTyaC"}],"key":"ZHP494A2cv"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"support vector machines: Cao and Tay (2003) (and the references therein),","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bKx3goBr5L"}],"key":"F2ehbeqRDJ"}],"key":"ReL6ppSZZg"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"model comparison and/or aggregation: Kim (2003), Huang, Nakamori, and Wang (2005), Matı́as and Reboredo (2012), Reboredo, Matı́as, and Garcia-Rubio (2012), Dunis et al. (2013), Gu, Kelly, and Xiu (2020b) and Guida and Coqueret (2018b). The latter two more recent articles work with a large cross-section of characteristics.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LFWbphFgcj"}],"key":"LhBdDHkmEX"}],"key":"S7pEhQhohC"}],"key":"lwkIK4fhkZ"}],"identifier":"309550d8","label":"309550d8","html_id":"id-309550d8","key":"crerueK8p6"},{"type":"block","kind":"notebook-content","data":{"id":"160e70fd"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We provide more detailed lists for tree-based methods, neural networks and reinforcement learning techniques in Chapters 6, 7 and 16, respectively. Moreover, we refer to Ballings et al. (2015) for a comparison of classifiers and to Henrique, Sobreiro, and Kimura (2019) and Bustos and Pomares-Quimbaya (2020) for surveys on ML-based forecasting techniques.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j8AD1psAIx"}],"key":"TKrooMnFBR"}],"identifier":"160e70fd","label":"160e70fd","html_id":"id-160e70fd","key":"ugRYUUdWD0"},{"type":"block","kind":"notebook-content","data":{"id":"d019a61d"},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Explicit connections with asset pricing models","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tOedcYgIg6"}],"identifier":"explicit-connections-with-asset-pricing-models","label":"Explicit connections with asset pricing models","html_id":"explicit-connections-with-asset-pricing-models","implicit":true,"key":"rpqcf5fnjM"}],"identifier":"d019a61d","label":"d019a61d","html_id":"d019a61d","key":"PwA3YOg2hW"},{"type":"block","kind":"notebook-content","data":{"id":"22512a72"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The first and obvious link between factor investing and asset pricing is (average) return prediction. The main canonical academic reference is Gu, Kelly, and Xiu (2020b). Let us first write the general equation and then comment on it:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z7OWO3a0bu"}],"key":"WGYfCLDxYz"}],"identifier":"22512a72","label":"22512a72","html_id":"id-22512a72","key":"WTtSfsVO4j"},{"type":"block","kind":"notebook-content","data":{"id":"9f4d6d23"},"children":[{"type":"math","value":"\\tag{3.6}\nr_{t+1,n}=g(\\textbf{x}_{t,n}) + \\epsilon_{t+1}.","enumerated":true,"position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable width=\"100%\"><mtr><mtd width=\"50%\"></mtd><mtd><mrow><msub><mi>r</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo>=</mo><mi>g</mi><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo>+</mo><msub><mi>ϵ</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mi mathvariant=\"normal\">.</mi></mrow></mtd><mtd width=\"50%\"></mtd><mtd><mtext>(3.6)</mtext></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\tag{3.6}\nr_{t+1,n}=g(\\textbf{x}_{t,n}) + \\epsilon_{t+1}.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.2083em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mord\">.</span></span><span class=\"tag\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord text\"><span class=\"mord\">(</span><span class=\"mord\"><span class=\"mord\">3.6</span></span><span class=\"mord\">)</span></span></span></span></span></span>","enumerator":"11","key":"am2bm5DWZM"}],"identifier":"9f4d6d23","label":"9f4d6d23","html_id":"id-9f4d6d23","key":"gBX6ENdmVf"},{"type":"block","kind":"notebook-content","data":{"id":"90245d72"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The interesting discussion lies in the differences between the above model and that of Equation (3.1). The first obvious difference is the introduction of the nonlinear function ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XnK8y31Vnl"},{"type":"inlineMath","value":"g","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span>","key":"c362LmKP7G"},{"type":"text","value":": indeed, there is no reason (beyond simplicity and interpretability) why we should restrict the model to linear relationships. One early reference for nonlinearities in asset pricing kernels is Bansal and Viswanathan (1993).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AenqrPP8sX"}],"key":"j7YG4Rx1VH"}],"identifier":"90245d72","label":"90245d72","html_id":"id-90245d72","key":"GPSjGAnBRw"},{"type":"block","kind":"notebook-content","data":{"id":"ab74ed1a"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"More importantly, the second difference between (3.6) and (3.1) is the shift in the time index. Indeed, from an investor’s perspective, the interest is to be able to predict some information about the structure of the cross-section of assets. Explaining asset returns with synchronous factors is not useful because the realization of factor values is not known in advance. Hence, if one seeks to extract value from the model, there needs to be a time interval between the observation of the state space (which we call ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y1RNVkSMax"},{"type":"inlineMath","value":"\\textbf{x}_{t,n}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\textbf{x}_{t,n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7305em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"buW5mQzuHE"},{"type":"text","value":") and the occurrence of the returns. Once the model ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wh2ROFFQpI"},{"type":"inlineMath","value":"\\hat{g}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>g</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{g}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.2222em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span></span></span></span>","key":"GrRlA2Pk7j"},{"type":"text","value":" is estimated, the time-","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yV8NeLwob0"},{"type":"inlineMath","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span>","key":"w32v638Gkj"},{"type":"text","value":" (measurable) value ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LSwCbeRr6x"},{"type":"inlineMath","value":"g(\\textbf{x}_{t,n})","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">g(\\textbf{x}_{t,n})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>","key":"BsmADYk0Zf"},{"type":"text","value":" will give a forecast for the (average) future returns. These predictions can then serve as signals in the crafting of portfolio weights (see Chapter 12 for more on that topic).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tfzkDuPakb"}],"key":"kXPKPVLHD1"}],"identifier":"ab74ed1a","label":"ab74ed1a","html_id":"ab74ed1a","key":"FxbqlRN4py"},{"type":"block","kind":"notebook-content","data":{"id":"dcc2c9b2"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"While most studies do work with returns on the l.h.s. of (3.6), there is no reason why other indicators should not be used. Returns are straightforward and simple to compute, but they could very well be replaced by more sophisticated metrics, like the Sharpe ratio, for instance. The firms’ features would then be used to predict a risk-adjusted performance rather than simple returns.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rVOf2w1E7T"}],"key":"de3iI4ZFzp"}],"identifier":"dcc2c9b2","label":"dcc2c9b2","html_id":"dcc2c9b2","key":"ZM17y69Fge"},{"type":"block","kind":"notebook-content","data":{"id":"b06fadd9"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Beyond the explicit form of Equation (3.6), several other ML-related tools can also be used to estimate asset pricing models. This can be achieved in several ways, some of which we list below.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mtWBb1CSXx"}],"key":"JH4tua9DFW"}],"identifier":"b06fadd9","label":"b06fadd9","html_id":"b06fadd9","key":"aURuistc3H"},{"type":"block","kind":"notebook-content","data":{"id":"32afa18e"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First, one mainstream problem in asset pricing is to characterize the stochastic discount factor (SDF) ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pqczx9yfZ3"},{"type":"inlineMath","value":"M_t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">M_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"rhU4dN4rtY"},{"type":"text","value":", which satisfies ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ROe3SGywv5"},{"type":"inlineMath","value":"\\mathbb{E}_t[M_{t+1}(r_{t+1,n}-r_{t+1,f})]=0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">E</mi><mi>t</mi></msub><mo stretchy=\"false\">[</mo><msub><mi>M</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>r</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo>−</mo><msub><mi>r</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>f</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\mathbb{E}_t[M_{t+1}(r_{t+1,n}-r_{t+1,f})]=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>","key":"F8IznGzL2D"},{"type":"text","value":" for any asset ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iRYSVAJknt"},{"type":"inlineMath","value":"n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>","key":"Zm6rme3YtI"},{"type":"text","value":" (see Cochrane (2009)). This equation is a natural playing field for the generalized method of moment (Hansen (1982)): ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IB52K5SbJo"},{"type":"inlineMath","value":"M_t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">M_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"V26oA5xmpg"},{"type":"text","value":" must be such that","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ief8Upa1u3"}],"key":"PPBak7RuxF"}],"identifier":"32afa18e","label":"32afa18e","html_id":"id-32afa18e","key":"kMDH2mHlGF"},{"type":"block","kind":"notebook-content","data":{"id":"11171316"},"children":[{"type":"math","value":"\\tag{3.7}\n\\mathbb{E}[M_{t+1}R_{t+1,n}g(V_t)]=0,","enumerated":true,"position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable width=\"100%\"><mtr><mtd width=\"50%\"></mtd><mtd><mrow><mi mathvariant=\"double-struck\">E</mi><mo stretchy=\"false\">[</mo><msub><mi>M</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><msub><mi>R</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mi>g</mi><mo stretchy=\"false\">(</mo><msub><mi>V</mi><mi>t</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo><mo>=</mo><mn>0</mn><mo separator=\"true\">,</mo></mrow></mtd><mtd width=\"50%\"></mtd><mtd><mtext>(3.7)</mtext></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\tag{3.7}\n\\mathbb{E}[M_{t+1}R_{t+1,n}g(V_t)]=0,</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathbb\">E</span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span></span><span class=\"tag\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord text\"><span class=\"mord\">(</span><span class=\"mord\"><span class=\"mord\">3.7</span></span><span class=\"mord\">)</span></span></span></span></span></span>","enumerator":"12","key":"bhXbeLZpfz"}],"identifier":"11171316","label":"11171316","html_id":"id-11171316","key":"iW9TyhwaYc"},{"type":"block","kind":"notebook-content","data":{"id":"17c164d2"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"where the instrumental variables ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aRaGX6PKva"},{"type":"inlineMath","value":"V_t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>V</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">V_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"Bd8nz4Ps5J"},{"type":"text","value":" are ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AlHz9F9DW1"},{"type":"inlineMath","value":"\\mathcal{F}_t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"script\">F</mi><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathcal{F}_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.09931em;\">F</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0993em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"Wp3VYh9Y4L"},{"type":"text","value":"-measurable (i.e., are known at time ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q1H2CA1PAV"},{"type":"inlineMath","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span>","key":"G4eKcKUlak"},{"type":"text","value":") and the capital ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yQsaRMzXRb"},{"type":"inlineMath","value":"R_{t+1,n}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>R</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">R_{t+1,n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"EUKcCJYbkd"},{"type":"text","value":" denotes the excess return of asset ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GJj1ZsG9UT"},{"type":"inlineMath","value":"n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>","key":"QujNuk0HuE"},{"type":"text","value":". In order to reduce and simplify the estimation problem, it is customary to define the SDF as a portfolio of assets (see chapter 3 in Back (2010)). In Luyang Chen, Pelger, and Zhu (2020), the authors use a generative adversarial network (GAN, see Section 7.7.1) to estimate the weights of the portfolios that are the closest to satisfy (3.7) under a strongly penalizing form.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Rp4LsjlFGE"}],"key":"mXmrJkPEe7"}],"identifier":"17c164d2","label":"17c164d2","html_id":"id-17c164d2","key":"J8COTgqvLH"},{"type":"block","kind":"notebook-content","data":{"id":"34afeca6"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A second approach is to try to model asset returns as linear combinations of factors, just as in (3.1). We write in compact notation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NwNHdkHorB"}],"key":"FxL2FZcA9r"}],"identifier":"34afeca6","label":"34afeca6","html_id":"id-34afeca6","key":"OYxWEnMSYu"},{"type":"block","kind":"notebook-content","data":{"id":"d706af39"},"children":[{"type":"math","value":"\\begin{align*}\nr_{t,n}=\\alpha_n+\\boldsymbol{\\beta}_{t,n}'\\textbf{f}_t+\\epsilon_{t,n},\n\\end{align*}","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><msub><mi>r</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo>=</mo><msub><mi>α</mi><mi>n</mi></msub><mo>+</mo><msubsup><mi mathvariant=\"bold-italic\">β</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msubsup><msub><mtext mathvariant=\"bold\">f</mtext><mi>t</mi></msub><mo>+</mo><msub><mi>ϵ</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo separator=\"true\">,</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align*}\nr_{t,n}=\\alpha_n+\\boldsymbol{\\beta}_{t,n}&#x27;\\textbf{f}_t+\\epsilon_{t,n},\n\\end{align*}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.5231em;vertical-align:-0.5116em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0116em;\"><span style=\"top:-3.1716em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03403em;\">β</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8362em;\"><span style=\"top:-2.453em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span><span style=\"top:-3.1473em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">f</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5116em;\"><span></span></span></span></span></span></span></span></span></span></span></span>","enumerator":"13","key":"rTZ2I0eRP4"}],"identifier":"d706af39","label":"d706af39","html_id":"d706af39","key":"iMHVodLEJb"},{"type":"block","kind":"notebook-content","data":{"id":"487e6375"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"and we allow the loadings ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VO0h6pa7w8"},{"type":"inlineMath","value":"\\boldsymbol{\\beta}_{t,n}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"bold-italic\">β</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\boldsymbol{\\beta}_{t,n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0747em;vertical-align:-0.3802em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03403em;\">β</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3802em;\"><span></span></span></span></span></span></span></span></span></span>","key":"RYyNBrTzuw"},{"type":"text","value":" to be time-dependent. The trick is then to introduce the firm characteristics in the above equation. Traditionally, the characteristics are present in the definition of factors (as in the seminal definition of Fama and French (1993)). The decomposition of the return is made according to the exposition of the firm’s return to these factors constructed according to market size, accounting ratios, past performance, etc. Given the exposures, the performance of the stock is attributed to particular style profiles (e.g., small stock, or value stock, etc.).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dGjrvU33Pf"}],"key":"RpWVorbIN0"}],"identifier":"487e6375","label":"487e6375","html_id":"id-487e6375","key":"Gge2O9a1KL"},{"type":"block","kind":"notebook-content","data":{"id":"88526b50"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Habitually, the factors are heuristic portfolios constructed from simple rules like thresholding. For instance, firms below the 1/3 quantile in book-to-market are growth firms and those above the 2/3 quantile are the value firms. A value factor can then be defined by the long-short portfolio of these two sets, with uniform weights. Note that Fama and French (1993) use a more complex approach which also takes market capitalization into account both in the weighting scheme and also in the composition of the portfolios.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vsPxkVOuUM"}],"key":"zBMFQlxmxq"}],"identifier":"88526b50","label":"88526b50","html_id":"id-88526b50","key":"tq9BiZJTHL"},{"type":"block","kind":"notebook-content","data":{"id":"2c40d623"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"One of the advances enabled by machine learning is to automate the construction of the factors. It is for instance the approach of Feng, Polson, and Xu (2019). Instead of building the factors heuristically, the authors optimize the construction to maximize the fit in the cross-section of returns. The optimization is performed via a relatively deep feed-forward neural network and the feature space is lagged so that the relationship is indeed predictive, as in Equation (3.6). Theoretically, the resulting factors help explain a substantially larger proportion of the in-sample variance in the returns. The prediction ability of the model depends on how well it generalizes out-of-sample.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ItDGhGPTQ6"}],"key":"XFHdKqiJUO"}],"identifier":"2c40d623","label":"2c40d623","html_id":"id-2c40d623","key":"IgazD6ZG9B"},{"type":"block","kind":"notebook-content","data":{"id":"ad50b15e"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A third approach is that of Kelly, Pruitt, and Su (2019) (though the statistical treatment is not machine learning per se). Their idea is the opposite: factors are latent (unobserved) and it is the betas (loadings) that depend on the characteristics. This allows many degrees of freedom because in ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"avzavvNGkx"},{"type":"inlineMath","value":"r_{t,n}=\\alpha_n+(\\boldsymbol{\\beta}_{t,n}(\\textbf{x}_{t-1,n}))'\\textbf{f}_t+\\epsilon_{t,n},","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>r</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo>=</mo><msub><mi>α</mi><mi>n</mi></msub><mo>+</mo><mo stretchy=\"false\">(</mo><msub><mi mathvariant=\"bold-italic\">β</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo>−</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo stretchy=\"false\">)</mo><msup><mo stretchy=\"false\">)</mo><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><msub><mtext mathvariant=\"bold\">f</mtext><mi>t</mi></msub><mo>+</mo><msub><mi>ϵ</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo separator=\"true\">,</mo></mrow><annotation encoding=\"application/x-tex\">r_{t,n}=\\alpha_n+(\\boldsymbol{\\beta}_{t,n}(\\textbf{x}_{t-1,n}))&#x27;\\textbf{f}_t+\\epsilon_{t,n},</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1321em;vertical-align:-0.3802em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03403em;\">β</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3802em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">f</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span></span></span></span>","key":"SxQpain1lG"},{"type":"text","value":", only the characteristics ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q6y0SWLz2B"},{"type":"inlineMath","value":"\\textbf{x}_{t-1,n}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo>−</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\textbf{x}_{t-1,n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7305em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"xVt7K7kGxW"},{"type":"text","value":" are known and both the factors ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"goCbgOF9dv"},{"type":"inlineMath","value":"\\textbf{f}_t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mtext mathvariant=\"bold\">f</mtext><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\textbf{f}_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">f</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"mbwS87hdnc"},{"type":"text","value":" and the functional forms ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P68nkRPGLL"},{"type":"inlineMath","value":"\\boldsymbol{\\beta}_{t,n}(\\cdot)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"bold-italic\">β</mi><mrow><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi></mrow></msub><mo stretchy=\"false\">(</mo><mo>⋅</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\boldsymbol{\\beta}_{t,n}(\\cdot)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1302em;vertical-align:-0.3802em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03403em;\">β</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3802em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\">⋅</span><span class=\"mclose\">)</span></span></span></span>","key":"iDd9sm4fNl"},{"type":"text","value":" must be estimated. In their article, Kelly, Pruitt, and Su (2019) work with a linear form, which is naturally more tractable.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VExOhLZW2G"}],"key":"PdpmDpCjrE"}],"identifier":"ad50b15e","label":"ad50b15e","html_id":"ad50b15e","key":"Enr9OUfKLV"},{"type":"block","kind":"notebook-content","data":{"id":"7b297f36"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Lastly, a fourth approach (introduced in Gu, Kelly, and Xiu (2020a)) goes even further and combines two neural network architectures. The first neural network takes characteristics ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sge88C49mb"},{"type":"inlineMath","value":"\\textbf{x}_{t-1}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\textbf{x}_{t-1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6528em;vertical-align:-0.2083em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span>","key":"Jzqn7rK0Wn"},{"type":"text","value":" as inputs and generates factor loadings ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FlbAk3An7c"},{"type":"inlineMath","value":"\\boldsymbol{\\beta}_{t-1}(\\textbf{x}_{t-1})","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"bold-italic\">β</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\boldsymbol{\\beta}_{t-1}(\\textbf{x}_{t-1})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0525em;vertical-align:-0.3025em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03403em;\">β</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3025em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>","key":"WFuz0jumTN"},{"type":"text","value":". The second network transforms returns ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BSfgOINt2S"},{"type":"inlineMath","value":"\\textbf{r}_t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mtext mathvariant=\"bold\">r</mtext><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\textbf{r}_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5944em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"hjUFxxglnV"},{"type":"text","value":" into factor values ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aAzFOnIvC1"},{"type":"inlineMath","value":"\\textbf{f}_t(\\textbf{r}_t)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mtext mathvariant=\"bold\">f</mtext><mi>t</mi></msub><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">r</mtext><mi>t</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\textbf{f}_t(\\textbf{r}_t)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">f</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>","key":"GMLx47JdVq"},{"type":"text","value":" (in Feng, Polson, and Xu (2019)). The aggregate model can then be written:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Kg59WxQRbg"}],"key":"tBW1OK9doF"}],"identifier":"7b297f36","label":"7b297f36","html_id":"id-7b297f36","key":"gdTuhcLYBq"},{"type":"block","kind":"notebook-content","data":{"id":"246432f6"},"children":[{"type":"math","value":"\\tag{3.8}\n\\textbf{r}_t=\\boldsymbol{\\beta}_{t-1}(\\textbf{x}_{t-1})'\\textbf{f}_t(\\textbf{r}_t)+\\boldsymbol{\\epsilon}_t.","enumerated":true,"position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable width=\"100%\"><mtr><mtd width=\"50%\"></mtd><mtd><mrow><msub><mtext mathvariant=\"bold\">r</mtext><mi>t</mi></msub><mo>=</mo><msub><mi mathvariant=\"bold-italic\">β</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><msup><mo stretchy=\"false\">)</mo><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><msub><mtext mathvariant=\"bold\">f</mtext><mi>t</mi></msub><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">r</mtext><mi>t</mi></msub><mo stretchy=\"false\">)</mo><mo>+</mo><msub><mi mathvariant=\"bold-italic\">ϵ</mi><mi>t</mi></msub><mi mathvariant=\"normal\">.</mi></mrow></mtd><mtd width=\"50%\"></mtd><mtd><mtext>(3.8)</mtext></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\tag{3.8}\n\\textbf{r}_t=\\boldsymbol{\\beta}_{t-1}(\\textbf{x}_{t-1})&#x27;\\textbf{f}_t(\\textbf{r}_t)+\\boldsymbol{\\epsilon}_t.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5944em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1044em;vertical-align:-0.3025em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03403em;\">β</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3025em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8019em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">f</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5944em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\">ϵ</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\">.</span></span><span class=\"tag\"><span class=\"strut\" style=\"height:1.1044em;vertical-align:-0.3025em;\"></span><span class=\"mord text\"><span class=\"mord\">(</span><span class=\"mord\"><span class=\"mord\">3.8</span></span><span class=\"mord\">)</span></span></span></span></span></span>","enumerator":"14","key":"OlPbWzfpoi"}],"identifier":"246432f6","label":"246432f6","html_id":"id-246432f6","key":"S8oIYu21sH"},{"type":"block","kind":"notebook-content","data":{"id":"56a4f530"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above specification is quite special because the output (on the l.h.s.) is also present as input (in the r.h.s.). In machine learning, autoencoders (see Section 7.6.2) share the same property. Their aim, just like in principal component analysis, is to find a parsimonious nonlinear representation form for a dataset (in this case, returns). In Equation (3.8), the input is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VCdbYLR7BW"},{"type":"inlineMath","value":"\\textbf{r}_t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mtext mathvariant=\"bold\">r</mtext><mi>t</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\textbf{r}_t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5944em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"hDguGutthW"},{"type":"text","value":" and the output function is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tTTsRcQu2W"},{"type":"inlineMath","value":"\\boldsymbol{\\beta}_{t-1}(\\textbf{x}_{t-1})'\\textbf{f}_t(\\textbf{r}_t)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"bold-italic\">β</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><msup><mo stretchy=\"false\">)</mo><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><msub><mtext mathvariant=\"bold\">f</mtext><mi>t</mi></msub><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">r</mtext><mi>t</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\boldsymbol{\\beta}_{t-1}(\\textbf{x}_{t-1})&#x27;\\textbf{f}_t(\\textbf{r}_t)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0544em;vertical-align:-0.3025em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03403em;\">β</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3025em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">f</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>","key":"QeYdJW2ChS"},{"type":"text","value":". The aim is to minimize the difference between the two just as is any regression-like model.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q320HSSEmf"}],"key":"FoUY1r7BlI"}],"identifier":"56a4f530","label":"56a4f530","html_id":"id-56a4f530","key":"OZhU8mEgy1"},{"type":"block","kind":"notebook-content","data":{"id":"015312df"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Autoencoders are neural networks which have outputs as close as possible to the inputs with an objective of dimensional reduction. The innovation in Gu, Kelly, and Xiu (2020a) is that the pure autoencoder part is merged with a vanilla perceptron used to model the loadings. The structure of the neural network is summarized below.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YgytLEAZb9"}],"key":"Qxs1lcl21m"}],"identifier":"015312df","label":"015312df","html_id":"id-015312df","key":"rWxboIgBru"},{"type":"block","kind":"notebook-content","data":{"id":"2dba2941"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"inlineMath","value":"\\left. \\begin{array}{rl}\n\\text{returns } (\\textbf{r}_t) & \\overset{NN_1}{\\longrightarrow} \\quad \\text{ factors } (\\textbf{f}_t=NN_1(\\textbf{r}_t)) \\\\\n\\text{characteristics } (\\textbf{x}_{t-1}) & \\overset{NN_2}{\\longrightarrow} \\quad \\text{ loadings } (\\boldsymbol{\\beta}_{t-1}=NN_2(\\textbf{x}_{t-1}))\n\\end{array} \\right\\} \\longrightarrow \\text{ returns } (r_t)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mrow><mtable rowspacing=\"0.16em\" columnalign=\"right left\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>returns </mtext><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">r</mtext><mi>t</mi></msub><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo><mover><mo><mo>⟶</mo></mo><mrow><mi>N</mi><msub><mi>N</mi><mn>1</mn></msub></mrow></mover></mo><mspace width=\"1em\"/><mtext> factors </mtext><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">f</mtext><mi>t</mi></msub><mo>=</mo><mi>N</mi><msub><mi>N</mi><mn>1</mn></msub><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">r</mtext><mi>t</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>characteristics </mtext><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo><mover><mo><mo>⟶</mo></mo><mrow><mi>N</mi><msub><mi>N</mi><mn>2</mn></msub></mrow></mover></mo><mspace width=\"1em\"/><mtext> loadings </mtext><mo stretchy=\"false\">(</mo><msub><mi mathvariant=\"bold-italic\">β</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>N</mi><msub><mi>N</mi><mn>2</mn></msub><mo stretchy=\"false\">(</mo><msub><mtext mathvariant=\"bold\">x</mtext><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd></mtr></mtable><mo fence=\"true\">}</mo></mrow><mo>⟶</mo><mtext> returns </mtext><mo stretchy=\"false\">(</mo><msub><mi>r</mi><mi>t</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\left. \\begin{array}{rl}\n\\text{returns } (\\textbf{r}_t) &amp; \\overset{NN_1}{\\longrightarrow} \\quad \\text{ factors } (\\textbf{f}_t=NN_1(\\textbf{r}_t)) \\\\\n\\text{characteristics } (\\textbf{x}_{t-1}) &amp; \\overset{NN_2}{\\longrightarrow} \\quad \\text{ loadings } (\\boldsymbol{\\beta}_{t-1}=NN_2(\\textbf{x}_{t-1}))\n\\end{array} \\right\\} \\longrightarrow \\text{ returns } (r_t)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:3.3209em;vertical-align:-1.4104em;\"></span><span class=\"minner\"><span class=\"mopen nulldelimiter\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9104em;\"><span style=\"top:-3.9104em;\"><span class=\"pstrut\" style=\"height:3.3004em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">returns </span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.3004em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">characteristics </span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4104em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.9104em;\"><span style=\"top:-3.9104em;\"><span class=\"pstrut\" style=\"height:3.3004em;\"></span><span class=\"mord\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3004em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⟶</span></span></span><span style=\"top:-3.7221em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3173em;\"><span style=\"top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.011em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord text\"><span class=\"mord\"> factors </span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">f</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">r</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">))</span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.3004em;\"></span><span class=\"mord\"><span class=\"mrel\"><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3004em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span><span class=\"mop\">⟶</span></span></span><span style=\"top:-3.7221em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3173em;\"><span style=\"top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.011em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord text\"><span class=\"mord\"> loadings </span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord boldsymbol\" style=\"margin-right:0.03403em;\">β</span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.207em;\"><span style=\"top:-2.4559em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3025em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord textbf\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mbin mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span><span class=\"mclose\">))</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4104em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">}</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⟶</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\"> returns </span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">t</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>","key":"l4ykr48qYb"}],"key":"sEXphPCS20"}],"identifier":"2dba2941","label":"2dba2941","html_id":"id-2dba2941","key":"SC8WY9BVwH"},{"type":"block","kind":"notebook-content","data":{"id":"9b7b2f31"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A simple autoencoder would consist of only the first line of the model. This specification is discussed in more details in Section 7.6.2.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eI7S1zmtXK"}],"key":"mY1hcy1sdk"}],"identifier":"9b7b2f31","label":"9b7b2f31","html_id":"id-9b7b2f31","key":"BhY3icPdTe"},{"type":"block","kind":"notebook-content","data":{"id":"e02cfcce"},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As a conclusion of this chapter, it appears undeniable that the intersection between the two fields of asset pricing and machine learning offers a rich variety of applications. The literature is already exhaustive and it is often hard to disentangle the noise from the great ideas in the continuous flow of publications on these topics. Practice and implementation is the only way forward to extricate value from hype. This is especially true because agents often tend to overestimate the role of factors in the allocation decision process of real-world investors (see Alex Chinco, Hartzmark, and Sussman (2019) and Castaneda and Sabat (2019)).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zVcBHOEFYk"}],"key":"wmuqNszGnR"}],"identifier":"e02cfcce","label":"e02cfcce","html_id":"e02cfcce","key":"CcFWjrcjpX"},{"type":"block","kind":"notebook-content","data":{"id":"cbefdb3f"},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Coding Exercices","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cpzBimsS71"}],"identifier":"coding-exercices","label":"Coding Exercices","html_id":"coding-exercices","implicit":true,"key":"VAOSZEZzi2"}],"identifier":"cbefdb3f","label":"cbefdb3f","html_id":"cbefdb3f","key":"GtjGaR0UGx"},{"type":"block","kind":"notebook-content","data":{"id":"634d3097"},"children":[{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Compute annual returns of the growth versus value portfolios, that is, the average return of firms with above median price-to-book ratio (the variable is called `","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bpeuGAkMVc"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pb","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mXIcUMN8fP"}],"key":"jTRwdvHugA"},{"type":"text","value":"’ in the dataset).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NpIJSQJX3W"}],"key":"fWOoSnjIs1"}],"key":"rLqcteAjSD"},{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Same exercise, but compute the monthly returns and plot the value (through time) of the corresponding portfolios.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"z3dLSkBC55"}],"key":"REAYCbPQrj"}],"key":"u2ULYgPbja"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Instead of a unique threshold, compute simply sorted portfolios based on quartiles of market capitalization. Compute their annual returns and plot them.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RcHofA2SEt"}],"key":"mXUTivQ5Rg"}],"key":"KcXHzyXeCZ"}],"key":"nbMFTicnQR"}],"identifier":"634d3097","label":"634d3097","html_id":"id-634d3097","key":"HsIFaM8qFp"}],"key":"oINQYQVNJm"},"references":{"cite":{"order":["barberis2003style","asness2015investing","ilmanen2011expected","ang2014asset","bali2016empirical","jurczenko2017factor","goyal2012empirical","cazalet2014facts","baz2015dissecting","krkoska2019herding","cong2019rise","cochrane2011presidential","ross1976arbitrage","sharpe1964capital","lintner1965valuation","mossin1966equilibrium","fama1992cross","fama1993common","green2013supraview","harvey2016and","mclean2016does","ang2012testing","cooper2018new","harvey2017presidential","linnainmaa2018history","johannesson2020explanatory","patton2020you","chen2020zeroing","chen2020limits","chen2020t","harvey2019evaluation","vincent2020investment","jacobs2019anomalies","chen2020publication","penasse2018understanding","volpati2020zooming","jin2019drivers","demiguel2019crowding","baker2017detecting","harvey2017lucky","cattaneo2019characteristic","patton2010monotonicity","romano2013testing","daniel2020cross","feng2019taming","bryzgalova2019bayesian","ledoit2018efficient"],"data":{"barberis2003style":{"label":"barberis2003style","enumerator":"1","html":"Barberis, N., & Shleifer, A. (2003). Style investing. <i>Journal of Financial Economics</i>, <i>68</i>(2), 161–199."},"asness2015investing":{"label":"asness2015investing","enumerator":"2","html":"Asness, C., Ilmanen, A., Israel, R., & Moskowitz, T. (2015). Investing with style. <i>Journal of Investment Management</i>, <i>13</i>(1), 27–63."},"ilmanen2011expected":{"label":"ilmanen2011expected","enumerator":"3","html":"Ilmanen, A. (2011). <i>Expected returns: An investor’s guide to harvesting market rewards</i>. John Wiley & Sons."},"ang2014asset":{"label":"ang2014asset","enumerator":"4","html":"Ang, A. (2014). <i>Asset management: A systematic approach to factor investing</i>. Oxford University Press."},"bali2016empirical":{"label":"bali2016empirical","enumerator":"5","html":"Bali, T. G., Engle, R. F., & Murray, S. (2016). <i>Empirical asset pricing: the cross section of stock returns</i>. John Wiley & Sons."},"jurczenko2017factor":{"label":"jurczenko2017factor","enumerator":"6","html":"Jurczenko, E. (2017). <i>Factor Investing: From Traditional to Alternative Risk Premia</i>. Elsevier."},"goyal2012empirical":{"label":"goyal2012empirical","enumerator":"7","html":"Goyal, A. (2012). Empirical cross-sectional asset pricing: a survey. <i>Financial Markets And Portfolio Management</i>, <i>26</i>(1), 3–38."},"cazalet2014facts":{"label":"cazalet2014facts","enumerator":"8","html":"Cazalet, Z., & Roncalli, T. (2014). Facts and fantasies about factor investing. <i>SSRN Working Paper</i>, <i>2524547</i>."},"baz2015dissecting":{"label":"baz2015dissecting","enumerator":"9","html":"Baz, J., Granger, N., Harvey, C. R., Le Roux, N., & Rattray, S. (2015). Dissecting investment strategies in the cross section and time series. <i>SSRN Working Paper</i>, <i>2695101</i>."},"krkoska2019herding":{"label":"krkoska2019herding","enumerator":"10","html":"Krkoska, E., & Schenk-Hoppé, K. R. (2019). Herding in Smart-Beta Investment Products. <i>Journal Of Risk And Financial Management</i>, <i>12</i>(1), 47."},"cong2019rise":{"label":"cong2019rise","enumerator":"11","html":"Cong, L. W., & Xu, D. (2019). Rise of factor investing: asset prices, informational efficiency, and security design. <i>SSRN Working Paper</i>, <i>2800590</i>."},"cochrane2011presidential":{"label":"cochrane2011presidential","enumerator":"12","html":"Cochrane, J. H. (2011). Presidential address: Discount rates. <i>Journal of Finance</i>, <i>66</i>(4), 1047–1108."},"ross1976arbitrage":{"label":"ross1976arbitrage","enumerator":"13","html":"Ross, S. A. (1976). The arbitrage theory of capital asset pricing. <i>Journal Of Economic Theory</i>, <i>13</i>(3), 341–360."},"sharpe1964capital":{"label":"sharpe1964capital","enumerator":"14","html":"Sharpe, W. F. (1964). Capital asset prices: A theory of market equilibrium under conditions of risk. <i>Journal of Finance</i>, <i>19</i>(3), 425–442."},"lintner1965valuation":{"label":"lintner1965valuation","enumerator":"15","html":"Lintner, J. (1965). The Valuation of Risk Assets and the Selection of Risky Investments in Stock Portfolios and Capital Budgets. <i>Review of Economics and Statistics</i>, <i>47</i>(1), 13–37."},"mossin1966equilibrium":{"label":"mossin1966equilibrium","enumerator":"16","html":"Mossin, J. (1966). Equilibrium in a capital asset market. <i>Econometrica: Journal of the Econometric Society</i>, <i>34</i>(4), 768–783."},"fama1992cross":{"label":"fama1992cross","enumerator":"17","html":"Fama, E. F., & French, K. R. (1992). The cross-section of expected stock returns. <i>Journal of Finance</i>, <i>47</i>(2), 427–465."},"fama1993common":{"label":"fama1993common","enumerator":"18","html":"Fama, E. F., & French, K. R. (1993). Common risk factors in the returns on stocks and bonds. <i>Journal of Financial Economics</i>, <i>33</i>(1), 3–56."},"green2013supraview":{"label":"green2013supraview","enumerator":"19","html":"Green, J., Hand, J. R., & Zhang, X. F. (2013). The supraview of return predictive signals. <i>Review Of Accounting Studies</i>, <i>18</i>(3), 692–730."},"harvey2016and":{"label":"harvey2016and","enumerator":"20","html":"Harvey, C. R., Liu, Y., & Zhu, H. (2016). … and the cross-section of expected returns. <i>Review of Financial Studies</i>, <i>29</i>(1), 5–68."},"mclean2016does":{"label":"mclean2016does","enumerator":"21","html":"McLean, R. D., & Pontiff, J. (2016). Does academic research destroy stock return predictability? <i>Journal of Finance</i>, <i>71</i>(1), 5–32."},"ang2012testing":{"label":"ang2012testing","enumerator":"22","html":"Ang, A., & Kristensen, D. (2012). Testing conditional factor models. <i>Journal of Financial Economics</i>, <i>106</i>(1), 132–156."},"cooper2018new":{"label":"cooper2018new","enumerator":"23","html":"Cooper, I., & Maio, P. F. (2019). New evidence on conditional factor models. <i>Journal of Financial and Quantitative Analysis</i>, <i>54</i>(5), 1975–2016."},"harvey2017presidential":{"label":"harvey2017presidential","enumerator":"24","html":"Harvey, C. R. (2017). Presidential address: the scientific outlook in financial economics. <i>Journal of Finance</i>, <i>72</i>(4), 1399–1440."},"linnainmaa2018history":{"label":"linnainmaa2018history","enumerator":"25","html":"Linnainmaa, J. T., & Roberts, M. R. (2018). The history of the cross-section of stock returns. <i>Review of Financial Studies</i>, <i>31</i>(7), 2606–2649."},"johannesson2020explanatory":{"label":"johannesson2020explanatory","enumerator":"26","html":"Johannesson, E., Ohlson, J. A., & Zhai, W. (2020). The Explanatory Power of Explanatory Variables. <i>SSRN Working Paper</i>, <i>3622743</i>."},"patton2020you":{"label":"patton2020you","enumerator":"27","html":"Patton, A. J., & Weller, B. M. (2020). What you see is not what you get: The costs of trading market anomalies. <i>Journal of Financial Economics</i>, <i>Forthcoming</i>."},"chen2020zeroing":{"label":"chen2020zeroing","enumerator":"28","html":"Chen, A. Y., & Velikov, M. (2023). Zeroing in on the Expected Returns of Anomalies. <i>Journal of Financial and Quantitative Analysis</i>, <i>58</i>(3), 968–1004."},"chen2020limits":{"label":"chen2020limits","enumerator":"29","html":"Chen, A. Y. (2020). The Limits of p-Hacking: Some Thought Experiments. <i>Journal of Finance</i>, <i>Forthcoming</i>."},"chen2020t":{"label":"chen2020t","enumerator":"30","html":"Chen, A. Y. (2025). Do t-stat hurdles need to be raised? <i>Management Science</i>, <i>71</i>(7), 5419–6318."},"harvey2019evaluation":{"label":"harvey2019evaluation","enumerator":"31","html":"Harvey, C. R., Liu, Y., & Saretto, A. (2020). An Evaluation of Alternative Multiple Testing Methods for Finance Applications. <i>Review of Asset Pricing Studies</i>, <i>10</i>(2), 199–248."},"vincent2020investment":{"label":"vincent2020investment","enumerator":"32","html":"Vincent, K., Hsu, Y.-C., & Lin, H.-W. (2020). Investment styles and the multiple testing of cross-sectional stock return predictability. <i>Journal of Financial Markets</i>, <i>Forthcoming</i>, 100598."},"jacobs2019anomalies":{"label":"jacobs2019anomalies","enumerator":"33","html":"Jacobs, H., & Müller, S. (2020). Anomalies across the globe: Once public, no longer existent? <i>Journal of Financial Economics</i>, <i>135</i>(1), 213–230."},"chen2020publication":{"label":"chen2020publication","enumerator":"34","html":"Chen, A. Y., & Zimmermann, T. (2020). Publication bias and the cross-section of stock returns. <i>Review of Asset Pricing Studies</i>, <i>10</i>(2), 249–289."},"penasse2018understanding":{"label":"penasse2018understanding","enumerator":"35","html":"Penasse, J. (2022). Understanding Alpha Decay. <i>Management Science</i>, <i>68</i>(5), 3966–3973."},"volpati2020zooming":{"label":"volpati2020zooming","enumerator":"36","html":"Volpati, V., Benzaquen, M., Eisler, Z., Mastromatteo, I., Toth, B., & Bouchaud, J.-P. (2020). Zooming In on Equity Factor Crowding. <i>arXiv Preprint</i>, <i>2001.04185</i>."},"jin2019drivers":{"label":"jin2019drivers","enumerator":"37","html":"Jin, D. (2019). The Drivers and Inhibitors of Factor Investing. <i>SSRN Working Paper</i>, <i>3492142</i>."},"demiguel2019crowding":{"label":"demiguel2019crowding","enumerator":"38","html":"DeMiguel, V., Martin-Utrera, A., & Uppal, R. (2025). Can competition increase profits in factor investing? <i>Management Science</i>, <i>71</i>(7), 5552–5571."},"baker2017detecting":{"label":"baker2017detecting","enumerator":"39","html":"Baker, M., Luo, P., & Taliaferro, R. (2017). Detecting Anomalies: The Relevance and Power of Standard Asset Pricing Tests. <i>Working Paper</i>."},"harvey2017lucky":{"label":"harvey2017lucky","enumerator":"40","html":"Harvey, C., & Liu, Y. (2019). Lucky factors. <i>SSRN Working Paper</i>, <i>2528780</i>."},"cattaneo2019characteristic":{"label":"cattaneo2019characteristic","enumerator":"41","html":"Cattaneo, M. D., Crump, R. K., Farrell, M., & Schaumburg, E. (2020). Characteristic-sorted portfolios: Estimation and inference. <i>Review of Economics and Statistics</i>, <i>102</i>(3), 531–551."},"patton2010monotonicity":{"label":"patton2010monotonicity","enumerator":"42","html":"Patton, A. J., & Timmermann, A. (2010). Monotonicity in asset returns: New tests with applications to the term structure, the CAPM, and portfolio sorts. <i>Journal of Financial Economics</i>, <i>98</i>(3), 605–625."},"romano2013testing":{"label":"romano2013testing","enumerator":"43","html":"Romano, J. P., & Wolf, M. (2013). Testing for monotonicity in expected asset returns. <i>Journal of Empirical Finance</i>, <i>23</i>, 93–116."},"daniel2020cross":{"label":"daniel2020cross","enumerator":"44","html":"Daniel, K., Mota, L., Rottke, S., & Santos, T. (2020). The Cross-Section of Risk and Return. <i>Review of Financial Studies</i>, <i>33</i>(5), 1927–1979."},"feng2019taming":{"label":"feng2019taming","enumerator":"45","html":"Feng, G., Giglio, S., & Xiu, D. (2020). Taming the factor zoo: A Test of New Factors. <i>Journal of Finance</i>, <i>75</i>(3), 1327–1370."},"bryzgalova2019bayesian":{"label":"bryzgalova2019bayesian","enumerator":"46","html":"Bryzgalova, S., Huang, J., & Julliard, C. (2023). Bayesian Solutions for the Factor Zoo: We Just Ran Two Quadrillion Models. <i>Journal of Finance</i>, <i>78</i>(1), 487–557."},"ledoit2018efficient":{"label":"ledoit2018efficient","enumerator":"47","html":"Ledoit, O., Wolf, M., & Zhao, Z. (2020). Efficient Sorting: A More Powerful Test for Cross-Sectional Anomalies. <i>Journal Of Financial Econometrics</i>, <i>17</i>(4), 645–686."}}}},"footer":{"navigation":{"prev":{"title":"Introduction","url":"/chap-02-introduction","group":"Machine Learning for Factor Investing"},"next":{"title":"Bibliography","url":"/bibliography","group":"Machine Learning for Factor Investing"}}},"domain":"http://localhost:3001"}